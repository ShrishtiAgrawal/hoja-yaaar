{"ast":null,"code":"import _slicedToArray from\"E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from'react';import{Link,useHistory}from'react-router-dom';import{UserContext}from'../../App';import M from'materialize-css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SignIn=function SignIn(){var _useContext=useContext(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var PostData=function PostData(){fetch(\"/signin\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,email:email})}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.error){M.toast({html:data.error,classes:\"#c62828 red darken-3\"});}else{localStorage.setItem(\"jwt\",data.token);localStorage.setItem(\"user\",JSON.stringify(data.user));dispatch({type:\"USER\",payload:data.user});M.toast({html:\"signing successful\",classes:\"#43a047 green darken-1\"});history.push('/');}});};return/*#__PURE__*/_jsx(\"div\",{className:\"mycard\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card auth-card \",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"VOCAL-LOCAL\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn waves-effect waves-light \",onClick:function onClick(){return PostData();},children:\"Login\"}),/*#__PURE__*/_jsx(\"h5\",{children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Register New Account\"})})]})});};export default SignIn;","map":{"version":3,"sources":["E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/components/screens/SignIn.js"],"names":["React","useState","useContext","Link","useHistory","UserContext","M","SignIn","state","dispatch","history","password","setPassword","email","setEmail","PostData","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","error","toast","html","classes","localStorage","setItem","token","user","type","payload","push","e","target","value"],"mappings":"mKAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,UAAvB,KAAwC,OAAxC,CACA,OAASC,IAAT,CAAcC,UAAd,KAA+B,kBAA/B,CACA,OAASC,WAAT,KAA2B,WAA3B,CACA,MAAOC,CAAAA,CAAP,KAAc,iBAAd,C,wFAEA,GAAMC,CAAAA,MAAM,CAAC,QAAPA,CAAAA,MAAO,EAAI,iBACWL,UAAU,CAACG,WAAD,CADrB,CACNG,KADM,aACNA,KADM,CACAC,QADA,aACAA,QADA,CAEb,GAAMC,CAAAA,OAAO,CAACN,UAAU,EAAxB,CAFa,cAIgBH,QAAQ,CAAC,EAAD,CAJxB,wCAINU,QAJM,eAIGC,WAJH,8BAKUX,QAAQ,CAAC,EAAD,CALlB,yCAKNY,KALM,eAKAC,QALA,eAMb,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnBC,KAAK,CAAC,SAAD,CAAW,CACZC,MAAM,CAAC,MADK,CAEZC,OAAO,CAAC,CACJ,eAAe,kBADX,CAFI,CAKZC,IAAI,CAACC,IAAI,CAACC,SAAL,CAAe,CAEhBV,QAAQ,CAARA,QAFgB,CAGhBE,KAAK,CAALA,KAHgB,CAAf,CALO,CAAX,CAAL,CAWGS,IAXH,CAWQ,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EAXX,EAYCF,IAZD,CAYM,SAAAG,IAAI,CAAE,CACRC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACD,GAAGA,IAAI,CAACG,KAAR,CAAc,CACXtB,CAAC,CAACuB,KAAF,CAAQ,CAACC,IAAI,CAAEL,IAAI,CAACG,KAAZ,CAAkBG,OAAO,CAAC,sBAA1B,CAAR,EACF,CAFD,IAGI,CACAC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAA2BR,IAAI,CAACS,KAAhC,EACAF,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA4Bb,IAAI,CAACC,SAAL,CAAeI,IAAI,CAACU,IAApB,CAA5B,EACA1B,QAAQ,CAAC,CAAC2B,IAAI,CAAC,MAAN,CAAaC,OAAO,CAACZ,IAAI,CAACU,IAA1B,CAAD,CAAR,CACA7B,CAAC,CAACuB,KAAF,CAAQ,CAACC,IAAI,CAAC,oBAAN,CAA2BC,OAAO,CAAC,wBAAnC,CAAR,EACArB,OAAO,CAAC4B,IAAR,CAAa,GAAb,EACF,CACJ,CAxBD,EA0BH,CA3BD,CA4BA,mBAEI,YAAK,SAAS,CAAC,QAAf,uBACK,aAAK,SAAS,CAAC,iBAAf,wBAEI,mCAFJ,cAKI,cACA,IAAI,CAAC,MADL,CAEA,WAAW,CAAC,OAFZ,CAGA,KAAK,CAAEzB,KAHP,CAIA,QAAQ,CAAE,kBAAC0B,CAAD,QAAMzB,CAAAA,QAAQ,CAACyB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAJV,EALJ,cAWI,cACA,IAAI,CAAC,UADL,CAEA,WAAW,CAAC,UAFZ,CAGA,KAAK,CAAE9B,QAHP,CAIA,QAAQ,CAAE,kBAAC4B,CAAD,QAAM3B,CAAAA,WAAW,CAAC2B,CAAC,CAACC,MAAF,CAASC,KAAV,CAAjB,EAJV,EAXJ,cAkBI,eAAQ,SAAS,CAAC,+BAAlB,CACA,OAAO,CAAE,yBAAI1B,CAAAA,QAAQ,EAAZ,EADT,mBAlBJ,cAqBI,iCACC,KAAC,IAAD,EAAM,EAAE,CAAC,SAAT,kCADD,EArBJ,GADL,EAFJ,CA+BH,CAjED,CAoEA,cAAeR,CAAAA,MAAf","sourcesContent":["import React,{useState,useContext} from 'react'\r\nimport { Link,useHistory} from 'react-router-dom'\r\nimport { UserContext} from '../../App'\r\nimport M from 'materialize-css'\r\n\r\nconst SignIn=()=>{\r\n    const {state,dispatch}= useContext(UserContext)\r\n    const history=useHistory()\r\n\r\n    const [password,setPassword]=useState(\"\")\r\n    const [email,setEmail]=useState(\"\")\r\n    const PostData = () => {\r\n        fetch(\"/signin\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n               \r\n                password,\r\n                email\r\n                \r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n           if(data.error){\r\n              M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\r\n           }\r\n           else{\r\n               localStorage.setItem(\"jwt\",data.token)\r\n               localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n               dispatch({type:\"USER\",payload:data.user})\r\n               M.toast({html:\"signing successful\",classes:\"#43a047 green darken-1\"})\r\n               history.push('/')\r\n            }\r\n        })\r\n\r\n    }\r\n    return (\r\n        \r\n        <div className=\"mycard\">\r\n             <div className=\"card auth-card \">\r\n\r\n                 <h2> \r\n                     VOCAL-LOCAL\r\n                 </h2>\r\n                 <input\r\n                 type=\"text\"\r\n                 placeholder=\"email\"\r\n                 value={email}\r\n                 onChange={(e)=> setEmail(e.target.value)}\r\n                 />       \r\n                 <input\r\n                 type=\"password\"\r\n                 placeholder=\"password\"\r\n                 value={password}\r\n                 onChange={(e)=> setPassword(e.target.value)}\r\n                 />\r\n\r\n                 <button className=\"btn waves-effect waves-light \"\r\n                 onClick={()=>PostData()}\r\n                 >Login</button>\r\n                 <h5>\r\n                  <Link to=\"/signup\">Register New Account</Link>\r\n                   </h5>   \r\n                 \r\n      </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default SignIn"]},"metadata":{},"sourceType":"module"}