{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){\"use strict\";n.r(t);var c=n(1),a=n.n(c),i=n(21),s=n.n(i),o=(n(28),n(2)),l=n(3),r=n(4),d=n(7),j=n.n(d),u=n(0),h=function(){var e=Object(c.useRef)(null),t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)([]),d=Object(o.a)(s,2),h=d[0],p=d[1],b=Object(c.useContext)(N),f=b.state,O=b.dispatch,m=Object(l.f)();Object(c.useEffect)((function(){j.a.Modal.init(e.current)}),[]);return Object(u.jsxs)(\"nav\",{children:[Object(u.jsxs)(\"div\",{className:\"nav-wrapper white\",children:[Object(u.jsx)(r.b,{to:f?\"/\":\"/signin\",className:\"brand-logo left\",children:\"Instagram\"}),Object(u.jsx)(\"ul\",{id:\"nav-mobile\",className:\"right\",children:f?[Object(u.jsx)(\"li\",{children:Object(u.jsx)(\"i\",{\"data-target\":\"modal1\",className:\"large material-icons modal-trigger\",style:{color:\"black\"},children:\"search\"})},\"1\"),Object(u.jsx)(\"li\",{children:Object(u.jsx)(r.b,{to:\"/profile\",children:\"Profile\"})},\"2\"),Object(u.jsx)(\"li\",{children:Object(u.jsx)(r.b,{to:\"/create\",children:\"Create Post\"})},\"3\"),Object(u.jsx)(\"li\",{children:Object(u.jsx)(r.b,{to:\"/myfollowingpost\",children:\"My following Posts\"})},\"4\"),Object(u.jsx)(\"li\",{children:Object(u.jsx)(\"button\",{className:\"btn #c62828 red darken-3\",onClick:function(){localStorage.clear(),O({type:\"CLEAR\"}),m.push(\"/signin\")},children:\"Logout\"})},\"5\")]:[Object(u.jsx)(\"li\",{children:Object(u.jsx)(r.b,{to:\"/signin\",children:\"Signin\"})},\"6\"),Object(u.jsx)(\"li\",{children:Object(u.jsx)(r.b,{to:\"/signup\",children:\"Signup\"})},\"7\")]})]}),Object(u.jsxs)(\"div\",{id:\"modal1\",class:\"modal\",ref:e,style:{color:\"black\"},children:[Object(u.jsxs)(\"div\",{className:\"modal-content\",children:[Object(u.jsx)(\"input\",{type:\"text\",placeholder:\"search users\",value:a,onChange:function(e){return t=e.target.value,i(t),void fetch(\"/search-users\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({query:t})}).then((function(e){return e.json()})).then((function(e){p(e.user)}));var t}}),Object(u.jsx)(\"ul\",{className:\"collection\",children:h.map((function(t){return Object(u.jsx)(r.b,{to:t._id!==f._id?\"/profile/\"+t._id:\"/profile\",onClick:function(){j.a.Modal.getInstance(e.current).close(),i(\"\")},children:Object(u.jsx)(\"li\",{className:\"collection-item\",children:t.email})})}))})]}),Object(u.jsx)(\"div\",{className:\"modal-footer\",children:Object(u.jsx)(\"button\",{className:\"modal-close waves-effect waves-green btn-flat\",onClick:function(){return i(\"\")},children:\"close\"})})]})]})},p=(n(34),function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useContext)(N),s=i.state;i.dispatch;Object(c.useEffect)((function(){fetch(\"/allpost\",{headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then((function(e){return e.json()})).then((function(e){console.log(e),a(e.posts)}))}),[]);return Object(u.jsx)(\"div\",{className:\"home\",children:n.map((function(e){return Object(u.jsxs)(\"div\",{className:\"card home-card\",children:[Object(u.jsxs)(\"h5\",{style:{padding:\"5px\"},children:[Object(u.jsx)(r.b,{to:e.postedBy._id!==s._id?\"/profile/\"+e.postedBy._id:\"/profile\",children:e.postedBy.name}),\" \",e.postedBy._id==s._id&&Object(u.jsx)(\"i\",{className:\"material-icons\",style:{float:\"right\"},onClick:function(){return t=e._id,void fetch(\"/deletepost/\".concat(t),{method:\"delete\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=n.filter((function(t){return t._id!==e._id}));a(t)}));var t},children:\"delete\"})]}),Object(u.jsx)(\"div\",{className:\"card-image\",children:Object(u.jsx)(\"img\",{src:e.photo})}),Object(u.jsxs)(\"div\",{className:\"card-content\",children:[Object(u.jsx)(\"i\",{className:\"material-icons\",style:{color:\"red\"},children:\"favorite\"}),e.likes.includes(s._id)?Object(u.jsx)(\"i\",{className:\"material-icons\",onClick:function(){var t;t=e._id,fetch(\"/unlike\",{method:\"put\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id==e._id?e:t}));a(t)})).catch((function(e){console.log(e)}))},children:\"thumb_down\"}):Object(u.jsx)(\"i\",{className:\"material-icons\",onClick:function(){var t;t=e._id,fetch(\"/like\",{method:\"put\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id==e._id?e:t}));a(t)})).catch((function(e){console.log(e)}))},children:\"thumb_up\"}),Object(u.jsxs)(\"h6\",{children:[e.likes.length,\" likes\"]}),Object(u.jsx)(\"h6\",{children:e.title}),Object(u.jsx)(\"p\",{children:e.body}),e.comments.map((function(e){return Object(u.jsxs)(\"h6\",{children:[Object(u.jsx)(\"span\",{style:{fontWeight:\"500\"},children:e.postedBy.name}),\" \",e.text]},e._id)})),Object(u.jsx)(\"form\",{onSubmit:function(t){var c,i;t.preventDefault(),c=t.target[0].value,i=e._id,fetch(\"/comment\",{method:\"put\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:i,text:c})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=n.map((function(t){return t._id==e._id?e:t}));a(t)})).catch((function(e){console.log(e)}))},children:Object(u.jsx)(\"input\",{type:\"text\",placeholder:\"add a comment\"})})]})]},e._id)}))})}),b=function(){var e=Object(c.useContext)(N),t=(e.state,e.dispatch),n=Object(l.f)(),a=Object(c.useState)(\"\"),i=Object(o.a)(a,2),s=i[0],d=i[1],h=Object(c.useState)(\"\"),p=Object(o.a)(h,2),b=p[0],f=p[1];return Object(u.jsx)(\"div\",{className:\"mycard\",children:Object(u.jsxs)(\"div\",{className:\"card auth-card \",children:[Object(u.jsx)(\"h2\",{children:\"VOCALOCAL\"}),Object(u.jsx)(\"input\",{type:\"text\",placeholder:\"email\",value:b,onChange:function(e){return f(e.target.value)}}),Object(u.jsx)(\"input\",{type:\"password\",placeholder:\"password\",value:s,onChange:function(e){return d(e.target.value)}}),Object(u.jsx)(\"button\",{className:\"btn waves-effect waves-light \",onClick:function(){fetch(\"/signin\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:s,email:b})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.error?j.a.toast({html:e.error,classes:\"#c62828 red darken-3\"}):(localStorage.setItem(\"jwt\",e.token),localStorage.setItem(\"user\",JSON.stringify(e.user)),t({type:\"USER\",payload:e.user}),j.a.toast({html:\"signing successful\",classes:\"#43a047 green darken-1\"}),n.push(\"/\"))}))},children:\"Login\"}),Object(u.jsx)(\"h5\",{children:Object(u.jsx)(r.b,{to:\"/signup\",children:\"Register New Account\"})})]})})},f=n(6),O=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useContext)(N),s=i.state,l=i.dispatch,r=Object(c.useState)(\"\"),d=Object(o.a)(r,2),j=d[0],h=d[1];Object(c.useEffect)((function(){fetch(\"/mypost\",{headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then((function(e){return e.json()})).then((function(e){console.log(e),a(e.mypost)}))}),[]),Object(c.useEffect)((function(){if(j){var e=new FormData;e.append(\"file\",j),e.append(\"upload_preset\",\"localvocal\"),e.append(\"cloud_name\",\"cldbase\"),fetch(\" https://api.cloudinary.com/v1_1/cldbase/image/upload\",{method:\"post\",body:e}).then((function(e){return e.json()})).then((function(e){fetch(\"/updatepic\",{method:\"put\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({pic:e.url})}).then((function(e){return e.json()})).then((function(e){console.log(e),localStorage.setItem(\"user\",JSON.stringify(Object(f.a)(Object(f.a)({},s),{},{pic:e.pic}))),l({type:\"UPDATEPIC\",payload:e.pic})}))})).catch((function(e){console.log(e)}))}}),[j]);return Object(u.jsxs)(\"div\",{style:{maxWidth:\"550px\",margin:\"0px auto\"},children:[Object(u.jsxs)(\"div\",{style:{margin:\"18px 0px\",borderBottom:\"1px solid grey\"},children:[Object(u.jsxs)(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\"},children:[Object(u.jsx)(\"div\",{children:Object(u.jsx)(\"img\",{style:{width:\"160px\",height:\"160px\",borderRadius:\"80px\"},src:s?s.pic:\"loading\"})}),Object(u.jsxs)(\"div\",{children:[Object(u.jsx)(\"h4\",{children:s?s.name:\"loading\"}),Object(u.jsx)(\"h5\",{children:s?s.email:\"loading\"}),Object(u.jsxs)(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"},children:[Object(u.jsxs)(\"h6\",{children:[n.length,\" posts\"]}),Object(u.jsxs)(\"h6\",{children:[s?s.followers.length:\"0\",\" followers\"]}),Object(u.jsxs)(\"h6\",{children:[s?s.following.length:\"0\",\" following\"]})]})]})]}),Object(u.jsxs)(\"div\",{className:\"file-field input-field\",style:{margin:\"10px\"},children:[Object(u.jsxs)(\"div\",{className:\"btn #64b5f6 blue darken-1\",children:[Object(u.jsx)(\"span\",{children:\"Update pic\"}),Object(u.jsx)(\"input\",{type:\"file\",onChange:function(e){return t=e.target.files[0],void h(t);var t}})]}),Object(u.jsx)(\"div\",{className:\"file-path-wrapper\",children:Object(u.jsx)(\"input\",{className:\"file-path validate\",type:\"text\"})})]})]}),Object(u.jsx)(\"div\",{className:\"gallery\",children:n.map((function(e){return Object(u.jsx)(\"img\",{className:\"item\",src:e.photo,alt:e.title},e._id)}))})]})},m=function(){var e=Object(l.f)(),t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)(\"\"),d=Object(o.a)(s,2),h=d[0],p=d[1],b=Object(c.useState)(\"\"),f=Object(o.a)(b,2),O=f[0],m=f[1],x=Object(c.useState)(\"\"),g=Object(o.a)(x,2),y=g[0],v=g[1],w=Object(c.useState)(void 0),N=Object(o.a)(w,2),S=N[0],C=N[1];Object(c.useEffect)((function(){S&&_()}),[S]);var _=function(){/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(O)?fetch(\"/signup\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:a,password:h,email:O,pic:S})}).then((function(e){return e.json()})).then((function(t){t.error?j.a.toast({html:t.error,classes:\"#c62828 red darken-3\"}):(j.a.toast({html:t.message,classes:\"#43a047 green darken-1\"}),e.push(\"/signin\"))})).catch((function(e){console.log(e)})):j.a.toast({html:\"invalid email\",classes:\"#c62828 red darken-3\"})},k=function(){y?function(){var e=new FormData;e.append(\"file\",y),e.append(\"upload_preset\",\"localvocal\"),e.append(\"cloud_name\",\"cldbase\"),fetch(\" https://api.cloudinary.com/v1_1/cldbase/image/upload\",{method:\"post\",body:e}).then((function(e){return e.json()})).then((function(e){C(e.url)})).catch((function(e){console.log(e)}))}():_()};return Object(u.jsx)(\"div\",{className:\"mycard\",children:Object(u.jsxs)(\"div\",{className:\"card auth-card input-field\",children:[Object(u.jsx)(\"h2\",{children:\"Instagram\"}),Object(u.jsx)(\"input\",{type:\"text\",placeholder:\"name\",value:a,onChange:function(e){return i(e.target.value)}}),Object(u.jsx)(\"input\",{type:\"text\",placeholder:\"email\",value:O,onChange:function(e){return m(e.target.value)}}),Object(u.jsx)(\"input\",{type:\"password\",placeholder:\"password\",value:h,onChange:function(e){return p(e.target.value)}}),Object(u.jsxs)(\"div\",{className:\"file-field input-field\",children:[Object(u.jsxs)(\"div\",{className:\"btn #64b5f6 blue darken-1\",children:[Object(u.jsx)(\"span\",{children:\"Upload pic\"}),Object(u.jsx)(\"input\",{type:\"file\",onChange:function(e){return v(e.target.files[0])}})]}),Object(u.jsx)(\"div\",{className:\"file-path-wrapper\",children:Object(u.jsx)(\"input\",{className:\"file-path validate\",type:\"text\"})})]}),Object(u.jsx)(\"button\",{className:\"btn waves-effect waves-light #64b5f6 blue darken-1\",onClick:function(){return k()},children:\"SignUP\"}),Object(u.jsx)(\"h5\",{children:Object(u.jsx)(r.b,{to:\"/signin\",children:\"Already have an account ?\"})})]})})},x=function(){var e=Object(l.f)(),t=Object(c.useState)(\"\"),n=Object(o.a)(t,2),a=n[0],i=n[1],s=Object(c.useState)(\"\"),r=Object(o.a)(s,2),d=r[0],h=r[1],p=Object(c.useState)(\"\"),b=Object(o.a)(p,2),f=b[0],O=b[1],m=Object(c.useState)(\"\"),x=Object(o.a)(m,2),g=x[0],y=x[1];Object(c.useEffect)((function(){g&&fetch(\"/createpost\",{method:\"post\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({title:a,body:d,pic:g})}).then((function(e){return e.json()})).then((function(t){t.error?j.a.toast({html:t.error,classes:\"#c62828 red darken-3\"}):(j.a.toast({html:\"POST CREATED\",classes:\"#43a047 green darken-1\"}),e.push(\"/\"))})).catch((function(e){console.log(e)}))}),[g]);return Object(u.jsxs)(\"div\",{className:\"card input-filed\",style:{margin:\" 20px auto\",maxWidth:\"500px\",padding:\"20px\",textAlign:\"center\"},children:[Object(u.jsx)(\"input\",{type:\"text\",placeholder:\"title\",value:a,onChange:function(e){return i(e.target.value)}}),Object(u.jsx)(\"input\",{type:\"text\",placeholder:\"body\",value:d,onChange:function(e){return h(e.target.value)}}),Object(u.jsxs)(\"div\",{className:\"file-field input-field\",children:[Object(u.jsxs)(\"div\",{className:\"btn\",children:[Object(u.jsx)(\"span\",{children:\"Upload Image\"}),Object(u.jsx)(\"input\",{type:\"file\",onChange:function(e){return O(e.target.files[0])}})]}),Object(u.jsx)(\"div\",{className:\"file-path-wrapper\",children:Object(u.jsx)(\"input\",{className:\"file-path validate\",type:\"text\"})})]}),Object(u.jsx)(\"button\",{className:\"btn waves-effect waves-light blue darken-1 \",onClick:function(){return function(){var e=new FormData;e.append(\"file\",f),e.append(\"upload_preset\",\"localvocal\"),e.append(\"cloud_name\",\"cldbase\"),fetch(\" https://api.cloudinary.com/v1_1/cldbase/image/upload\",{method:\"post\",body:e}).then((function(e){return e.json()})).then((function(e){y(e.url)})).catch((function(e){console.log(e)}))}()},children:\"Submit Post\"})]})},g=function(e,t){return\"USER\"==t.type?t.payload:\"CLEAR\"==t.type?null:\"UPDATE\"==t.type?Object(f.a)(Object(f.a)({},e),{},{followers:t.payload.followers,following:t.payload.following}):\"UPDATEPIC\"==t.type?Object(f.a)(Object(f.a)({},e),{},{pic:t.payload}):e},y=n(23),v=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useContext)(N),s=i.state,r=i.dispatch,d=Object(l.g)().userid,j=Object(c.useState)(!s||!s.following.includes(d)),h=Object(o.a)(j,2),p=h[0],b=h[1];Object(c.useEffect)((function(){fetch(\"/user/\".concat(d),{headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then((function(e){return e.json()})).then((function(e){a(e)}))}),[]);return Object(u.jsx)(u.Fragment,{children:n?Object(u.jsxs)(\"div\",{style:{maxWidth:\"550px\",margin:\"0px auto\"},children:[Object(u.jsxs)(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\",margin:\"18px 0px\",borderBottom:\"1px solid grey\"},children:[Object(u.jsx)(\"div\",{children:Object(u.jsx)(\"img\",{style:{width:\"160px\",height:\"160px\",borderRadius:\"80px\"},src:n.user.pic})}),Object(u.jsxs)(\"div\",{children:[Object(u.jsx)(\"h4\",{children:n.user.name}),Object(u.jsx)(\"h5\",{children:n.user.email}),Object(u.jsxs)(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"},children:[Object(u.jsxs)(\"h6\",{children:[n.posts.length,\" posts\"]}),Object(u.jsxs)(\"h6\",{children:[n.user.followers.length,\" followers\"]}),Object(u.jsxs)(\"h6\",{children:[n.user.following.length,\" following\"]})]}),p?Object(u.jsx)(\"button\",{style:{margin:\"10px\"},className:\"btn waves-effect waves-light #64b5f6 blue darken-1\",onClick:function(){fetch(\"/follow\",{method:\"put\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({followId:d})}).then((function(e){return e.json()})).then((function(e){r({type:\"UPDATE\",payload:{following:e.following,followers:e.followers}}),localStorage.setItem(\"user\",JSON.stringify(e)),a((function(t){return Object(f.a)(Object(f.a)({},t),{},{user:Object(f.a)(Object(f.a)({},t.user),{},{followers:[].concat(Object(y.a)(t.user.followers),[e._id])})})})),b(!1)}))},children:\"Follow\"}):Object(u.jsx)(\"button\",{style:{margin:\"10px\"},className:\"btn waves-effect waves-light #64b5f6 blue darken-1\",onClick:function(){fetch(\"/unfollow\",{method:\"put\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({unfollowId:d})}).then((function(e){return e.json()})).then((function(e){r({type:\"UPDATE\",payload:{following:e.following,followers:e.followers}}),localStorage.setItem(\"user\",JSON.stringify(e)),a((function(t){var n=t.user.followers.filter((function(t){return t!=e._id}));return Object(f.a)(Object(f.a)({},t),{},{user:Object(f.a)(Object(f.a)({},t.user),{},{followers:n})})})),b(!0)}))},children:\"UnFollow\"})]})]}),Object(u.jsx)(\"div\",{className:\"gallery\",children:n.posts.map((function(e){return Object(u.jsx)(\"img\",{className:\"item\",src:e.photo,alt:e.title},e._id)}))})]}):Object(u.jsx)(\"h2\",{children:\"loading...!\"})})},w=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],i=Object(c.useContext)(N),s=i.state;i.dispatch;Object(c.useEffect)((function(){fetch(\"/getsubpost\",{headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then((function(e){return e.json()})).then((function(e){console.log(e),a(e.posts)}))}),[]);return Object(u.jsx)(\"div\",{className:\"home\",children:n.map((function(e){return Object(u.jsxs)(\"div\",{className:\"card home-card\",children:[Object(u.jsxs)(\"h5\",{style:{padding:\"5px\"},children:[Object(u.jsx)(r.b,{to:e.postedBy._id!==s._id?\"/profile/\"+e.postedBy._id:\"/profile\",children:e.postedBy.name}),\" \",e.postedBy._id==s._id&&Object(u.jsx)(\"i\",{className:\"material-icons\",style:{float:\"right\"},onClick:function(){return t=e._id,void fetch(\"/deletepost/\".concat(t),{method:\"delete\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=n.filter((function(t){return t._id!==e._id}));a(t)}));var t},children:\"delete\"})]}),Object(u.jsx)(\"div\",{className:\"card-image\",children:Object(u.jsx)(\"img\",{src:e.photo})}),Object(u.jsxs)(\"div\",{className:\"card-content\",children:[Object(u.jsx)(\"i\",{className:\"material-icons\",style:{color:\"red\"},children:\"favorite\"}),e.likes.includes(s._id)?Object(u.jsx)(\"i\",{className:\"material-icons\",onClick:function(){var t;t=e._id,fetch(\"/unlike\",{method:\"put\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id==e._id?e:t}));a(t)})).catch((function(e){console.log(e)}))},children:\"thumb_down\"}):Object(u.jsx)(\"i\",{className:\"material-icons\",onClick:function(){var t;t=e._id,fetch(\"/like\",{method:\"put\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:t})}).then((function(e){return e.json()})).then((function(e){var t=n.map((function(t){return t._id==e._id?e:t}));a(t)})).catch((function(e){console.log(e)}))},children:\"thumb_up\"}),Object(u.jsxs)(\"h6\",{children:[e.likes.length,\" likes\"]}),Object(u.jsx)(\"h6\",{children:e.title}),Object(u.jsx)(\"p\",{children:e.body}),e.comments.map((function(e){return Object(u.jsxs)(\"h6\",{children:[Object(u.jsx)(\"span\",{style:{fontWeight:\"500\"},children:e.postedBy.name}),\" \",e.text]},e._id)})),Object(u.jsx)(\"form\",{onSubmit:function(t){var c,i;t.preventDefault(),c=t.target[0].value,i=e._id,fetch(\"/comment\",{method:\"put\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:i,text:c})}).then((function(e){return e.json()})).then((function(e){console.log(e);var t=n.map((function(t){return t._id==e._id?e:t}));a(t)})).catch((function(e){console.log(e)}))},children:Object(u.jsx)(\"input\",{type:\"text\",placeholder:\"add a comment\"})})]})]},e._id)}))})},N=Object(c.createContext)(),S=function(){var e=Object(l.f)(),t=Object(c.useContext)(N),n=(t.state,t.dispatch);return Object(c.useEffect)((function(){var t=JSON.parse(localStorage.getItem(\"user\"));t?n({type:\"USER\",payload:t}):e.location.pathname.startsWith(\"/reset\")||e.push(\"/signin\")}),[]),Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:\"/\",children:Object(u.jsx)(p,{})}),Object(u.jsx)(l.a,{path:\"/signin\",children:Object(u.jsx)(b,{})}),Object(u.jsx)(l.a,{path:\"/signup\",children:Object(u.jsx)(m,{})}),Object(u.jsx)(l.a,{exact:!0,path:\"/profile\",children:Object(u.jsx)(O,{})}),Object(u.jsx)(l.a,{path:\"/create\",children:Object(u.jsx)(x,{})}),Object(u.jsx)(l.a,{path:\"/profile/:userid\",children:Object(u.jsx)(v,{})}),Object(u.jsx)(l.a,{path:\"/myfollowingpost\",children:Object(u.jsx)(w,{})}),Object(u.jsx)(l.a,{exact:!0,path:\"/reset\",children:Object(u.jsx)(Reset,{})}),Object(u.jsx)(l.a,{path:\"/reset/:token\",children:Object(u.jsx)(NewPassword,{})})]})};var C=function(){var e=Object(c.useReducer)(g,null),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(u.jsx)(N.Provider,{value:{state:n,dispatch:a},children:Object(u.jsxs)(r.a,{children:[Object(u.jsx)(h,{}),Object(u.jsx)(S,{})]})})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,36)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(C,{})}),document.getElementById(\"root\")),_()}},[[35,1,2]]]);","name":"static/js/main.03269986.chunk.js","map":{"version":3,"sources":["static/js/main.03269986.chunk.js"],"names":["this","push","28","module","exports","__webpack_require__","34","35","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","react_router","react_router_dom","materialize","materialize_default","jsx_runtime","Navbar","searchModal","Object","_useState","_useState2","search","setSearch","_useState3","_useState4","userDetails","setUserDetails","_useContext","UserContext","state","dispatch","history","a","Modal","init","current","children","className","to","id","data-target","style","color","onClick","localStorage","clear","type","class","ref","placeholder","value","onChange","e","query","target","fetch","method","headers","Content-Type","body","JSON","stringify","then","res","json","results","user","map","item","_id","getInstance","close","email","screens_Home","data","setData","Authorization","getItem","result","console","log","posts","padding","postedBy","name","float","postid","concat","newData","filter","src","photo","likes","includes","postId","catch","err","length","title","comments","record","fontWeight","text","onSubmit","preventDefault","screens_SignIn","password","setPassword","setEmail","error","toast","html","classes","setItem","token","payload","objectSpread2","screens_Profile","mypics","setPics","image","setImage","mypost","FormData","append","pic","url","maxWidth","margin","borderBottom","display","justifyContent","width","height","borderRadius","followers","following","file","files","alt","Signup","setName","setPasword","_useState5","_useState6","_useState7","_useState8","_useState9","undefined","_useState10","setUrl","uploadFields","test","message","PostData","uploadPic","screens_CreatePost","setTitle","setBody","textAlign","postDetails","userReducer_reducer","action","toConsumableArray","UserProfile","userProfile","setProfile","userid","showfollow","setShowFollow","followId","prevState","unfollowId","newFollower","SubscribesUserPosts","App_Routing","parse","location","pathname","startsWith","exact","path","Reset","NewPassword","src_App","_useReducer","_useReducer2","Provider","src_reportWebVitals","onPerfEntry","Function","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"CAACA,KAAyB,mBAAIA,KAAyB,oBAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAEpEC,GACA,SAAUC,EAAQC,EAASC,KAM3BC,GACA,SAAUH,EAAQC,EAASC,KAM3BE,GACA,SAAUJ,EAAQK,EAAqBH,GAE7C,aAEAA,EAAoBI,EAAED,GAGtB,IAAIE,EAAQL,EAAoB,GAC5BM,EAA6BN,EAAoBO,EAAEF,GAGnDG,EAAYR,EAAoB,IAChCS,EAAiCT,EAAoBO,EAAEC,GAMvDE,GAHMV,EAAoB,IAGVA,EAAoB,IAGpCW,EAAeX,EAAoB,GAGnCY,EAAmBZ,EAAoB,GAGvCa,EAAcb,EAAoB,GAClCc,EAAmCd,EAAoBO,EAAEM,GAGzDE,EAAcf,EAAoB,GAG4yHgB,EAAh0H,WAAkB,IAAIC,EAAYC,OAAOb,EAAc,OAArBa,CAAwB,MAAUC,EAAUD,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIE,EAAWF,OAAOR,EAA+B,EAAtCQ,CAAyCC,EAAU,GAAGE,EAAOD,EAAW,GAAGE,EAAUF,EAAW,GAAOG,EAAWL,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIM,EAAWN,OAAOR,EAA+B,EAAtCQ,CAAyCK,EAAW,GAAGE,EAAYD,EAAW,GAAGE,EAAeF,EAAW,GAAOG,EAAYT,OAAOb,EAAkB,WAAzBa,CAA4BU,GAAaC,EAAMF,EAAYE,MAAMC,EAASH,EAAYG,SAAaC,EAAQb,OAAOP,EAAiC,EAAxCO,GAA6CA,OAAOb,EAAiB,UAAxBa,EAA2B,WAAWJ,EAAoBkB,EAAEC,MAAMC,KAAKjB,EAAYkB,WAAW,IAAuqD,OAAmBjB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACkB,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,oBAAoBD,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2BN,EAA+B,EAAE,CAAC0B,GAAGT,EAAM,IAAI,UAAUQ,UAAU,kBAAkBD,SAAS,cAA2BlB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACqB,GAAG,aAAaF,UAAU,QAAQD,SAAv/DP,EAAa,CAAcX,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACsB,cAAc,SAASH,UAAU,qCAAqCI,MAAM,CAACC,MAAM,SAASN,SAAS,YAAY,KAAkBlB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BN,EAA+B,EAAE,CAAC0B,GAAG,WAAWF,SAAS,aAAa,KAAkBlB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BN,EAA+B,EAAE,CAAC0B,GAAG,UAAUF,SAAS,iBAAiB,KAAkBlB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BN,EAA+B,EAAE,CAAC0B,GAAG,mBAAmBF,SAAS,wBAAwB,KAAkBlB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,SAAS,CAACmB,UAAU,2BAA2BM,QAAQ,WAAmBC,aAAaC,QAAQf,EAAS,CAACgB,KAAK,UAAUf,EAAQnC,KAAK,YAAawC,SAAS,YAAY,MAAkB,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BN,EAA+B,EAAE,CAAC0B,GAAG,UAAUF,SAAS,YAAY,KAAkBlB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BN,EAA+B,EAAE,CAAC0B,GAAG,UAAUF,SAAS,YAAY,WAA+rBlB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACqB,GAAG,SAASQ,MAAM,QAAQC,IAAI/B,EAAYwB,MAAM,CAACC,MAAM,SAASN,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,gBAAgBD,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,OAAOG,YAAY,eAAeC,MAAM7B,EAAO8B,SAAS,SAAkBC,GAAG,OAAv9BC,EAAy+BD,EAAEE,OAAOJ,MAA3+B5B,EAAU+B,QAAOE,MAAM,gBAAgB,CAACC,OAAO,OAAOC,QAAQ,CAACC,eAAe,oBAAoBC,KAAKC,KAAKC,UAAU,CAACR,MAAMA,MAAUS,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASG,GAASvC,EAAeuC,EAAQC,SAAxP,IAAoBb,KAA0gCnC,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACmB,UAAU,aAAaD,SAASX,EAAY0C,KAAI,SAASC,GAAM,OAAmBlD,OAAOH,EAAiB,IAAxBG,CAA2BN,EAA+B,EAAE,CAAC0B,GAAG8B,EAAKC,MAAMxC,EAAMwC,IAAI,YAAYD,EAAKC,IAAI,WAAW1B,QAAQ,WAAmB7B,EAAoBkB,EAAEC,MAAMqC,YAAYrD,EAAYkB,SAASoC,QAAQjD,EAAU,KAAMc,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACmB,UAAU,kBAAkBD,SAASgC,EAAKI,kBAA+BtD,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,eAAeD,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,SAAS,CAACmB,UAAU,gDAAgDM,QAAQ,WAAmB,OAAOrB,EAAU,KAAMc,SAAS,mBAOj0BqC,GALl9FzE,EAAoB,IAGhB,WAAgB,IAAImB,EAAUD,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIE,EAAWF,OAAOR,EAA+B,EAAtCQ,CAAyCC,EAAU,GAAGuD,EAAKtD,EAAW,GAAGuD,EAAQvD,EAAW,GAAOO,EAAYT,OAAOb,EAAkB,WAAzBa,CAA4BU,GAAaC,EAAMF,EAAYE,MAAeF,EAAYG,SAASZ,OAAOb,EAAiB,UAAxBa,EAA2B,WAAWqC,MAAM,WAAW,CAACE,QAAQ,CAACmB,cAAgB,UAAUhC,aAAaiC,QAAQ,UAAUf,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAAQC,QAAQC,IAAIF,GAAQH,EAAQG,EAAOG,YAAY,IAEyb,OAAmB/D,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,OAAOD,SAASsC,EAAKP,KAAI,SAASC,GAAM,OAAmBlD,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,iBAAiBD,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACuB,MAAM,CAACyC,QAAQ,OAAO9C,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2BN,EAA+B,EAAE,CAAC0B,GAAG8B,EAAKe,SAASd,MAAMxC,EAAMwC,IAAI,YAAYD,EAAKe,SAASd,IAAI,WAAWjC,SAASgC,EAAKe,SAASC,OAAO,IAAIhB,EAAKe,SAASd,KAAKxC,EAAMwC,KAAkBnD,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACmB,UAAU,iBAAiBI,MAAM,CAAC4C,MAAM,SAAS1C,QAAQ,WAAmB,OAA14B2C,EAA45BlB,EAAKC,SAAz5Bd,MAAM,eAAegC,OAAOD,GAAQ,CAAC9B,OAAO,SAASC,QAAQ,CAACmB,cAAc,UAAUhC,aAAaiC,QAAQ,UAAUf,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAAQC,QAAQC,IAAIF,GAAQ,IAAIU,EAAQd,EAAKe,QAAO,SAASrB,GAAM,OAAOA,EAAKC,MAAMS,EAAOT,OAAOM,EAAQa,MAAlT,IAAoBF,GAAw6BlD,SAAS,cAA2BlB,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,aAAaD,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACwE,IAAItB,EAAKuB,UAAuBzE,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,eAAeD,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACmB,UAAU,iBAAiBI,MAAM,CAACC,MAAM,OAAON,SAAS,aAAagC,EAAKwB,MAAMC,SAAShE,EAAMwC,KAAkBnD,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACmB,UAAU,iBAAiBM,QAAQ,WAD72D,IAAoBJ,EAAAA,EACu3D6B,EAAKC,IADx3Dd,MAAM,UAAU,CAACC,OAAO,MAAMC,QAAQ,CAACC,eAAe,mBAAmBkB,cAAgB,UAAUhC,aAAaiC,QAAQ,QAAQlB,KAAKC,KAAKC,UAAU,CAACiC,OAAOvD,MAAOuB,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAC/Z,IAAIU,EAAQd,EAAKP,KAAI,SAASC,GAAM,OAAGA,EAAKC,KAAKS,EAAOT,IAAYS,EAAoBV,KAASO,EAAQa,MAAYO,OAAM,SAASC,GAAKjB,QAAQC,IAAIgB,OAAg7D5D,SAAS,eAA4BlB,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACmB,UAAU,iBAAiBM,QAAQ,WAFlpD,IAAkBJ,EAAAA,EAE4pD6B,EAAKC,IAF7pDd,MAAM,QAAQ,CAACC,OAAO,MAAMC,QAAQ,CAACC,eAAe,mBAAmBkB,cAAgB,UAAUhC,aAAaiC,QAAQ,QAAQlB,KAAKC,KAAKC,UAAU,CAACiC,OAAOvD,MAAOuB,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GACxwB,IAAIU,EAAQd,EAAKP,KAAI,SAASC,GAAM,OAAGA,EAAKC,KAAKS,EAAOT,IAAYS,EAAoBV,KAASO,EAAQa,MAAYO,OAAM,SAASC,GAAKjB,QAAQC,IAAIgB,OACgkE5D,SAAS,aAA0BlB,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACkB,SAAS,CAACgC,EAAKwB,MAAMK,OAAO,YAAyB/E,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAASgC,EAAK8B,QAAqBhF,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACkB,SAASgC,EAAKT,OAAOS,EAAK+B,SAAShC,KAAI,SAASiC,GAAQ,OAAmBlF,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACkB,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,OAAO,CAACuB,MAAM,CAAC4D,WAAW,OAAOjE,SAASgE,EAAOjB,SAASC,OAAO,IAAIgB,EAAOE,OAAOF,EAAO/B,QAAqBnD,OAAOH,EAAiB,IAAxBG,CAA2B,OAAO,CAACqF,SAAS,SAAkBnD,GAAhlF,IAAqBkD,EAAKR,EAAyjF1C,EAAEoD,iBAAhkFF,EAA6lFlD,EAAEE,OAAO,GAAGJ,MAApmF4C,EAA0mF1B,EAAKC,IAAvmFd,MAAM,WAAW,CAACC,OAAO,MAAMC,QAAQ,CAACC,eAAe,mBAAmBkB,cAAgB,UAAUhC,aAAaiC,QAAQ,QAAQlB,KAAKC,KAAKC,UAAU,CAACiC,OAAOA,EAAOQ,KAAKA,MAASxC,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAAQC,QAAQC,IAAIF,GAAQ,IAAIU,EAAQd,EAAKP,KAAI,SAASC,GAAM,OAAGA,EAAKC,KAAKS,EAAOT,IAAYS,EAAoBV,KAASO,EAAQa,MAAYO,OAAM,SAASC,GAAKjB,QAAQC,IAAIgB,OAAqtE5D,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,OAAOG,YAAY,yBAAyBmB,EAAKC,YAE96BoC,EAA/+D,WAAkB,IAAI9E,EAAYT,OAAOb,EAAkB,WAAzBa,CAA4BU,GAAqCE,GAAlBH,EAAYE,MAAeF,EAAYG,UAAaC,EAAQb,OAAOP,EAAiC,EAAxCO,GAAiDC,EAAUD,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIE,EAAWF,OAAOR,EAA+B,EAAtCQ,CAAyCC,EAAU,GAAGuF,EAAStF,EAAW,GAAGuF,EAAYvF,EAAW,GAAOG,EAAWL,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIM,EAAWN,OAAOR,EAA+B,EAAtCQ,CAAyCK,EAAW,GAAGiD,EAAMhD,EAAW,GAAGoF,EAASpF,EAAW,GAAilB,OAAmBN,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,SAASD,SAAsBlB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,kBAAkBD,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAS,cAA2BlB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,OAAOG,YAAY,QAAQC,MAAMsB,EAAMrB,SAAS,SAAkBC,GAAG,OAAOwD,EAASxD,EAAEE,OAAOJ,UAAwBhC,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,WAAWG,YAAY,WAAWC,MAAMwD,EAASvD,SAAS,SAAkBC,GAAG,OAAOuD,EAAYvD,EAAEE,OAAOJ,UAAwBhC,OAAOH,EAAiB,IAAxBG,CAA2B,SAAS,CAACmB,UAAU,gCAAgCM,QAAQ,WAAxsCY,MAAM,UAAU,CAACC,OAAO,OAAOC,QAAQ,CAACC,eAAe,oBAAoBC,KAAKC,KAAKC,UAAU,CAAC6C,SAASA,EAASlC,MAAMA,MAAUV,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASY,GAAMK,QAAQC,IAAIN,GAASA,EAAKmC,MAAO/F,EAAoBkB,EAAE8E,MAAM,CAACC,KAAKrC,EAAKmC,MAAMG,QAAQ,0BAA+BpE,aAAaqE,QAAQ,MAAMvC,EAAKwC,OAAOtE,aAAaqE,QAAQ,OAAOrD,KAAKC,UAAUa,EAAKR,OAAOpC,EAAS,CAACgB,KAAK,OAAOqE,QAAQzC,EAAKR,OAAOpD,EAAoBkB,EAAE8E,MAAM,CAACC,KAAK,qBAAqBC,QAAQ,2BAA2BjF,EAAQnC,KAAK,UAA6sBwC,SAAS,UAAuBlB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BN,EAA+B,EAAE,CAAC0B,GAAG,UAAUF,SAAS,iCAE17DgF,EAAgBpH,EAAoB,GAI2kEqH,EAD/lE,WAAmB,IAAIlG,EAAUD,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIE,EAAWF,OAAOR,EAA+B,EAAtCQ,CAAyCC,EAAU,GAAGmG,EAAOlG,EAAW,GAAGmG,EAAQnG,EAAW,GAAOO,EAAYT,OAAOb,EAAkB,WAAzBa,CAA4BU,GAAaC,EAAMF,EAAYE,MAAMC,EAASH,EAAYG,SAAaP,EAAWL,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIM,EAAWN,OAAOR,EAA+B,EAAtCQ,CAAyCK,EAAW,GAAGiG,EAAMhG,EAAW,GAAGiG,EAASjG,EAAW,GAAGN,OAAOb,EAAiB,UAAxBa,EAA2B,WAAWqC,MAAM,UAAU,CAACE,QAAQ,CAACmB,cAAgB,UAAUhC,aAAaiC,QAAQ,UAAUf,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAAQC,QAAQC,IAAIF,GAAQyC,EAAQzC,EAAO4C,aAAa,IAAIxG,OAAOb,EAAiB,UAAxBa,EAA2B,WAAW,GAAGsG,EAAM,CAAC,IAAI9C,EAAK,IAAIiD,SAAWjD,EAAKkD,OAAO,OAAOJ,GAAO9C,EAAKkD,OAAO,gBAAgB,cAAclD,EAAKkD,OAAO,aAAa,WAAWrE,MAAM,wDAAwD,CAACC,OAAO,OAAOG,KAAKe,IAAOZ,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASY,GAAMnB,MAAM,aAAa,CAACC,OAAO,MAAMC,QAAQ,CAACC,eAAe,mBAAmBkB,cAAgB,UAAUhC,aAAaiC,QAAQ,QAAQlB,KAAKC,KAAKC,UAAU,CAACgE,IAAInD,EAAKoD,QAAQhE,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAAQC,QAAQC,IAAIF,GAAQlC,aAAaqE,QAAQ,OAAOrD,KAAKC,UAAU3C,OAAOkG,EAA+B,EAAtClG,CAAyCA,OAAOkG,EAA+B,EAAtClG,CAAyC,GAAGW,GAAO,GAAG,CAACgG,IAAI/C,EAAO+C,QAAQ/F,EAAS,CAACgB,KAAK,YAAYqE,QAAQrC,EAAO+C,YACr7C9B,OAAM,SAASC,GAAKjB,QAAQC,IAAIgB,SAAW,CAACwB,IAAoE,OAAmBtG,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACuB,MAAM,CAACsF,SAAS,QAAQC,OAAO,YAAY5F,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACuB,MAAM,CAACuF,OAAO,WAAWC,aAAa,kBAAkB7F,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACuB,MAAM,CAACyF,QAAQ,OAAOC,eAAe,gBAAgB/F,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACkB,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACuB,MAAM,CAAC2F,MAAM,QAAQC,OAAO,QAAQC,aAAa,QAAQ5C,IAAI7D,EAAMA,EAAMgG,IAAI,cAA2B3G,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACkB,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAASP,EAAMA,EAAMuD,KAAK,YAAyBlE,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAASP,EAAMA,EAAM2C,MAAM,YAAyBtD,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACuB,MAAM,CAACyF,QAAQ,OAAOC,eAAe,gBAAgBC,MAAM,QAAQhG,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACkB,SAAS,CAACkF,EAAOrB,OAAO,YAAyB/E,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACkB,SAAS,CAACP,EAAMA,EAAM0G,UAAUtC,OAAO,IAAI,gBAA6B/E,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACkB,SAAS,CAACP,EAAMA,EAAM2G,UAAUvC,OAAO,IAAI,yBAAsC/E,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,yBAAyBI,MAAM,CAACuF,OAAO,QAAQ5F,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,4BAA4BD,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,OAAO,CAACkB,SAAS,eAA4BlB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,OAAOK,SAAS,SAAkBC,GAAG,OAA3iDqF,EAA8jDrF,EAAEE,OAAOoF,MAAM,QAAvkDjB,EAASgB,GAApC,IAAqBA,QAAqmDvH,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,oBAAoBD,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAACmB,UAAU,qBAAqBS,KAAK,iBAA8B5B,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,UAAUD,SAASkF,EAAOnD,KAAI,SAASC,GAAM,OAAmBlD,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,OAAOqD,IAAItB,EAAKuB,MAAMgD,IAAIvE,EAAK8B,OAAO9B,EAAKC,cAE2tDuE,EAA5wH,WAAkB,IAAI7G,EAAQb,OAAOP,EAAiC,EAAxCO,GAAiDC,EAAUD,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIE,EAAWF,OAAOR,EAA+B,EAAtCQ,CAAyCC,EAAU,GAAGiE,EAAKhE,EAAW,GAAGyH,EAAQzH,EAAW,GAAOG,EAAWL,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIM,EAAWN,OAAOR,EAA+B,EAAtCQ,CAAyCK,EAAW,GAAGmF,EAASlF,EAAW,GAAGsH,EAAWtH,EAAW,GAAOuH,EAAW7H,OAAOb,EAAgB,SAAvBa,CAA0B,IAAI8H,EAAW9H,OAAOR,EAA+B,EAAtCQ,CAAyC6H,EAAW,GAAGvE,EAAMwE,EAAW,GAAGpC,EAASoC,EAAW,GAAOC,EAAW/H,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIgI,EAAWhI,OAAOR,EAA+B,EAAtCQ,CAAyC+H,EAAW,GAAGzB,EAAM0B,EAAW,GAAGzB,EAASyB,EAAW,GAAOC,EAAWjI,OAAOb,EAAgB,SAAvBa,MAA0BkI,GAAWC,EAAYnI,OAAOR,EAA+B,EAAtCQ,CAAyCiI,EAAW,GAAGrB,EAAIuB,EAAY,GAAGC,EAAOD,EAAY,GAAGnI,OAAOb,EAAiB,UAAxBa,EAA2B,WAAc4G,GAAKyB,MAAkB,CAACzB,IAAM,IAA0XyB,EAAa,WAA4B,yJAAyJC,KAAKhF,GAAmGjB,MAAM,UAAU,CAACC,OAAO,OAAOC,QAAQ,CAACC,eAAe,oBAAoBC,KAAKC,KAAKC,UAAU,CAACuB,KAAKA,EAAKsB,SAASA,EAASlC,MAAMA,EAAMqD,IAAIC,MAAQhE,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASY,GAASA,EAAKmC,MAAO/F,EAAoBkB,EAAE8E,MAAM,CAACC,KAAKrC,EAAKmC,MAAMG,QAAQ,0BAA+BlG,EAAoBkB,EAAE8E,MAAM,CAACC,KAAKrC,EAAK+E,QAAQzC,QAAQ,2BAA2BjF,EAAQnC,KAAK,eAAemG,OAAM,SAASC,GAAKjB,QAAQC,IAAIgB,MAA5hBlF,EAAoBkB,EAAE8E,MAAM,CAACC,KAAK,gBAAgBC,QAAQ,0BAAgf0C,EAAS,WAAuBlC,EAAroC,WAAqB,IAAI9C,EAAK,IAAIiD,SAAWjD,EAAKkD,OAAO,OAAOJ,GAAO9C,EAAKkD,OAAO,gBAAgB,cAAclD,EAAKkD,OAAO,aAAa,WAAWrE,MAAM,wDAAwD,CAACC,OAAO,OAAOG,KAAKe,IAAOZ,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASY,GAAM4E,EAAO5E,EAAKoD,QAAQ/B,OAAM,SAASC,GAAKjB,QAAQC,IAAIgB,MAA8yB2D,GAAkBJ,KAAkB,OAAmBrI,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,SAASD,SAAsBlB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,6BAA6BD,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAS,cAA2BlB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,OAAOG,YAAY,OAAOC,MAAMkC,EAAKjC,SAAS,SAAkBC,GAAG,OAAOyF,EAAQzF,EAAEE,OAAOJ,UAAwBhC,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,OAAOG,YAAY,QAAQC,MAAMsB,EAAMrB,SAAS,SAAkBC,GAAG,OAAOwD,EAASxD,EAAEE,OAAOJ,UAAwBhC,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,WAAWG,YAAY,WAAWC,MAAMwD,EAASvD,SAAS,SAAkBC,GAAG,OAAO0F,EAAW1F,EAAEE,OAAOJ,UAAwBhC,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,yBAAyBD,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,4BAA4BD,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,OAAO,CAACkB,SAAS,eAA4BlB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,OAAOK,SAAS,SAAkBC,GAAG,OAAOqE,EAASrE,EAAEE,OAAOoF,MAAM,UAAwBxH,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,oBAAoBD,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAACmB,UAAU,qBAAqBS,KAAK,cAA2B5B,OAAOH,EAAiB,IAAxBG,CAA2B,SAAS,CAACmB,UAAU,qDAAqDM,QAAQ,WAAmB,OAAO+G,KAAatH,SAAS,WAAwBlB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BN,EAA+B,EAAE,CAAC0B,GAAG,UAAUF,SAAS,sCAE73BwH,EAA/zF,WAAsB,IAAI7H,EAAQb,OAAOP,EAAiC,EAAxCO,GAAiDC,EAAUD,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIE,EAAWF,OAAOR,EAA+B,EAAtCQ,CAAyCC,EAAU,GAAG+E,EAAM9E,EAAW,GAAGyI,EAASzI,EAAW,GAAOG,EAAWL,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIM,EAAWN,OAAOR,EAA+B,EAAtCQ,CAAyCK,EAAW,GAAGoC,EAAKnC,EAAW,GAAGsI,EAAQtI,EAAW,GAAOuH,EAAW7H,OAAOb,EAAgB,SAAvBa,CAA0B,IAAI8H,EAAW9H,OAAOR,EAA+B,EAAtCQ,CAAyC6H,EAAW,GAAGvB,EAAMwB,EAAW,GAAGvB,EAASuB,EAAW,GAAOC,EAAW/H,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIgI,EAAWhI,OAAOR,EAA+B,EAAtCQ,CAAyC+H,EAAW,GAAGnB,EAAIoB,EAAW,GAAGI,EAAOJ,EAAW,GAAGhI,OAAOb,EAAiB,UAAxBa,EAA2B,WAAc4G,GAAKvE,MAAM,cAAc,CAACC,OAAO,OAAOC,QAAQ,CAACC,eAAe,mBAAmBkB,cAAgB,UAAUhC,aAAaiC,QAAQ,QAAQlB,KAAKC,KAAKC,UAAU,CAACqC,MAAMA,EAAMvC,KAAKA,EAAKkE,IAAIC,MAAQhE,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASY,GAASA,EAAKmC,MAAO/F,EAAoBkB,EAAE8E,MAAM,CAACC,KAAKrC,EAAKmC,MAAMG,QAAQ,0BAA+BlG,EAAoBkB,EAAE8E,MAAM,CAACC,KAAK,eAAeC,QAAQ,2BAA2BjF,EAAQnC,KAAK,SAASmG,OAAM,SAASC,GAAKjB,QAAQC,IAAIgB,QAAW,CAAC8B,IAAgY,OAAmB5G,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,mBAAmBI,MAAM,CAACuF,OAAO,aAAaD,SAAS,QAAQ7C,QAAQ,OAAO6E,UAAU,UAAU3H,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,OAAOG,YAAY,QAAQC,MAAMgD,EAAM/C,SAAS,SAAkBC,GAAG,OAAOyG,EAASzG,EAAEE,OAAOJ,UAAwBhC,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,OAAOG,YAAY,OAAOC,MAAMS,EAAKR,SAAS,SAAkBC,GAAG,OAAO0G,EAAQ1G,EAAEE,OAAOJ,UAAwBhC,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,yBAAyBD,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,MAAMD,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,OAAO,CAACkB,SAAS,iBAA8BlB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,OAAOK,SAAS,SAAkBC,GAAG,OAAOqE,EAASrE,EAAEE,OAAOoF,MAAM,UAAwBxH,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,oBAAoBD,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAACmB,UAAU,qBAAqBS,KAAK,cAA2B5B,OAAOH,EAAiB,IAAxBG,CAA2B,SAAS,CAACmB,UAAU,8CAA8CM,QAAQ,WAAmB,OAArgD,WAAuB,IAAI+B,EAAK,IAAIiD,SAAWjD,EAAKkD,OAAO,OAAOJ,GAAO9C,EAAKkD,OAAO,gBAAgB,cAAclD,EAAKkD,OAAO,aAAa,WAAWrE,MAAM,wDAAwD,CAACC,OAAO,OAAOG,KAAKe,IAAOZ,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASY,GAAM4E,EAAO5E,EAAKoD,QAAQ/B,OAAM,SAASC,GAAKjB,QAAQC,IAAIgB,MAA4qCgE,IAAgB5H,SAAS,oBAEzwF6H,EAAoB,SAAiBpI,EAAMqI,GAAQ,MAAgB,QAAbA,EAAOpH,KAAqBoH,EAAO/C,QAAyB,SAAb+C,EAAOpH,KAAsB,KAAsB,UAAboH,EAAOpH,KAAuB5B,OAAOkG,EAA+B,EAAtClG,CAAyCA,OAAOkG,EAA+B,EAAtClG,CAAyC,GAAGW,GAAO,GAAG,CAAC0G,UAAU2B,EAAO/C,QAAQoB,UAAUC,UAAU0B,EAAO/C,QAAQqB,YAA6B,aAAb0B,EAAOpH,KAA0B5B,OAAOkG,EAA+B,EAAtClG,CAAyCA,OAAOkG,EAA+B,EAAtClG,CAAyC,GAAGW,GAAO,GAAG,CAACgG,IAAIqC,EAAO/C,UAAkBtF,GAEzgBsI,EAAoBnK,EAAoB,IAI68GoK,EADj+G,WAAmB,IAAIjJ,EAAUD,OAAOb,EAAgB,SAAvBa,CAA0B,MAAME,EAAWF,OAAOR,EAA+B,EAAtCQ,CAAyCC,EAAU,GAAGkJ,EAAYjJ,EAAW,GAAGkJ,EAAWlJ,EAAW,GAAOO,EAAYT,OAAOb,EAAkB,WAAzBa,CAA4BU,GAAaC,EAAMF,EAAYE,MAAMC,EAASH,EAAYG,SAAoEyI,EAA5CrJ,OAAOP,EAAgC,EAAvCO,GAA8DqJ,OAAWhJ,EAAWL,OAAOb,EAAgB,SAAvBa,EAA0BW,IAAOA,EAAM2G,UAAU3C,SAAS0E,IAAc/I,EAAWN,OAAOR,EAA+B,EAAtCQ,CAAyCK,EAAW,GAAGiJ,EAAWhJ,EAAW,GAAGiJ,EAAcjJ,EAAW,GAAGN,OAAOb,EAAiB,UAAxBa,EAA2B,WAAWqC,MAAM,SAASgC,OAAOgF,GAAQ,CAAC9G,QAAQ,CAACmB,cAAgB,UAAUhC,aAAaiC,QAAQ,UAAUf,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAC3xBwF,EAAWxF,QAAa,IAAsjD,OAAmB5D,OAAOH,EAAiB,IAAxBG,CAA2BH,EAAsB,SAAE,CAACqB,SAASiI,EAAyBnJ,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACuB,MAAM,CAACsF,SAAS,QAAQC,OAAO,YAAY5F,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACuB,MAAM,CAACyF,QAAQ,OAAOC,eAAe,eAAeH,OAAO,WAAWC,aAAa,kBAAkB7F,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACkB,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACuB,MAAM,CAAC2F,MAAM,QAAQC,OAAO,QAAQC,aAAa,QAAQ5C,IAAI2E,EAAYnG,KAAK2D,QAAqB3G,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACkB,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAASiI,EAAYnG,KAAKkB,OAAoBlE,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAASiI,EAAYnG,KAAKM,QAAqBtD,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACuB,MAAM,CAACyF,QAAQ,OAAOC,eAAe,gBAAgBC,MAAM,QAAQhG,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACkB,SAAS,CAACiI,EAAYpF,MAAMgB,OAAO,YAAyB/E,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACkB,SAAS,CAACiI,EAAYnG,KAAKqE,UAAUtC,OAAO,gBAA6B/E,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACkB,SAAS,CAACiI,EAAYnG,KAAKsE,UAAUvC,OAAO,mBAAmBuE,EAAwBtJ,OAAOH,EAAiB,IAAxBG,CAA2B,SAAS,CAACuB,MAAM,CAACuF,OAAO,QAAQ3F,UAAU,qDAAqDM,QAAQ,WAAj1FY,MAAM,UAAU,CAACC,OAAO,MAAMC,QAAQ,CAACC,eAAe,mBAAmBkB,cAAgB,UAAUhC,aAAaiC,QAAQ,QAAQlB,KAAKC,KAAKC,UAAU,CAAC6G,SAASH,MAAWzG,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASY,GAAM5C,EAAS,CAACgB,KAAK,SAASqE,QAAQ,CAACqB,UAAU9D,EAAK8D,UAAUD,UAAU7D,EAAK6D,aAAa3F,aAAaqE,QAAQ,OAAOrD,KAAKC,UAAUa,IAAO4F,GAAW,SAASK,GAAW,OAAOzJ,OAAOkG,EAA+B,EAAtClG,CAAyCA,OAAOkG,EAA+B,EAAtClG,CAAyC,GAAGyJ,GAAW,GAAG,CAACzG,KAAKhD,OAAOkG,EAA+B,EAAtClG,CAAyCA,OAAOkG,EAA+B,EAAtClG,CAAyC,GAAGyJ,EAAUzG,MAAM,GAAG,CAACqE,UAAU,GAAGhD,OAAOrE,OAAOiJ,EAAmC,EAA1CjJ,CAA6CyJ,EAAUzG,KAAKqE,WAAW,CAAC7D,EAAKL,aAAaoG,GAAc,OAAypErI,SAAS,WAAwBlB,OAAOH,EAAiB,IAAxBG,CAA2B,SAAS,CAACuB,MAAM,CAACuF,OAAO,QAAQ3F,UAAU,qDAAqDM,QAAQ,WAAvwEY,MAAM,YAAY,CAACC,OAAO,MAAMC,QAAQ,CAACC,eAAe,mBAAmBkB,cAAgB,UAAUhC,aAAaiC,QAAQ,QAAQlB,KAAKC,KAAKC,UAAU,CAAC+G,WAAWL,MAAWzG,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASY,GAAM5C,EAAS,CAACgB,KAAK,SAASqE,QAAQ,CAACqB,UAAU9D,EAAK8D,UAAUD,UAAU7D,EAAK6D,aAAa3F,aAAaqE,QAAQ,OAAOrD,KAAKC,UAAUa,IAAO4F,GAAW,SAASK,GAAW,IAAIE,EAAYF,EAAUzG,KAAKqE,UAAU9C,QAAO,SAASrB,GAAM,OAAOA,GAAMM,EAAKL,OAAO,OAAOnD,OAAOkG,EAA+B,EAAtClG,CAAyCA,OAAOkG,EAA+B,EAAtClG,CAAyC,GAAGyJ,GAAW,GAAG,CAACzG,KAAKhD,OAAOkG,EAA+B,EAAtClG,CAAyCA,OAAOkG,EAA+B,EAAtClG,CAAyC,GAAGyJ,EAAUzG,MAAM,GAAG,CAACqE,UAAUsC,SAAmBJ,GAAc,OAAskDrI,SAAS,mBAAgClB,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,UAAUD,SAASiI,EAAYpF,MAAMd,KAAI,SAASC,GAAM,OAAmBlD,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,OAAOqD,IAAItB,EAAKuB,MAAMgD,IAAIvE,EAAK8B,OAAO9B,EAAKC,aAA0BnD,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAAS,mBAIxe0I,EAF/7F,WAAgB,IAAI3J,EAAUD,OAAOb,EAAgB,SAAvBa,CAA0B,IAAIE,EAAWF,OAAOR,EAA+B,EAAtCQ,CAAyCC,EAAU,GAAGuD,EAAKtD,EAAW,GAAGuD,EAAQvD,EAAW,GAAOO,EAAYT,OAAOb,EAAkB,WAAzBa,CAA4BU,GAAaC,EAAMF,EAAYE,MAAeF,EAAYG,SAASZ,OAAOb,EAAiB,UAAxBa,EAA2B,WAAWqC,MAAM,cAAc,CAACE,QAAQ,CAACmB,cAAgB,UAAUhC,aAAaiC,QAAQ,UAAUf,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAAQC,QAAQC,IAAIF,GAAQH,EAAQG,EAAOG,YAAY,IAEua,OAAmB/D,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,OAAOD,SAASsC,EAAKP,KAAI,SAASC,GAAM,OAAmBlD,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,iBAAiBD,SAAS,CAAclB,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACuB,MAAM,CAACyC,QAAQ,OAAO9C,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2BN,EAA+B,EAAE,CAAC0B,GAAG8B,EAAKe,SAASd,MAAMxC,EAAMwC,IAAI,YAAYD,EAAKe,SAASd,IAAI,WAAWjC,SAASgC,EAAKe,SAASC,OAAO,IAAIhB,EAAKe,SAASd,KAAKxC,EAAMwC,KAAkBnD,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACmB,UAAU,iBAAiBI,MAAM,CAAC4C,MAAM,SAAS1C,QAAQ,WAAmB,OAA14B2C,EAA45BlB,EAAKC,SAAz5Bd,MAAM,eAAegC,OAAOD,GAAQ,CAAC9B,OAAO,SAASC,QAAQ,CAACmB,cAAc,UAAUhC,aAAaiC,QAAQ,UAAUf,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAAQC,QAAQC,IAAIF,GAAQ,IAAIU,EAAQd,EAAKe,QAAO,SAASrB,GAAM,OAAOA,EAAKC,MAAMS,EAAOT,OAAOM,EAAQa,MAAlT,IAAoBF,GAAw6BlD,SAAS,cAA2BlB,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACmB,UAAU,aAAaD,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,MAAM,CAACwE,IAAItB,EAAKuB,UAAuBzE,OAAOH,EAAkB,KAAzBG,CAA4B,MAAM,CAACmB,UAAU,eAAeD,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACmB,UAAU,iBAAiBI,MAAM,CAACC,MAAM,OAAON,SAAS,aAAagC,EAAKwB,MAAMC,SAAShE,EAAMwC,KAAkBnD,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACmB,UAAU,iBAAiBM,QAAQ,WAD72D,IAAoBJ,EAAAA,EACu3D6B,EAAKC,IADx3Dd,MAAM,UAAU,CAACC,OAAO,MAAMC,QAAQ,CAACC,eAAe,mBAAmBkB,cAAgB,UAAUhC,aAAaiC,QAAQ,QAAQlB,KAAKC,KAAKC,UAAU,CAACiC,OAAOvD,MAAOuB,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAC/Z,IAAIU,EAAQd,EAAKP,KAAI,SAASC,GAAM,OAAGA,EAAKC,KAAKS,EAAOT,IAAYS,EAAoBV,KAASO,EAAQa,MAAYO,OAAM,SAASC,GAAKjB,QAAQC,IAAIgB,OAAg7D5D,SAAS,eAA4BlB,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACmB,UAAU,iBAAiBM,QAAQ,WAFhoD,IAAkBJ,EAAAA,EAE0oD6B,EAAKC,IAF3oDd,MAAM,QAAQ,CAACC,OAAO,MAAMC,QAAQ,CAACC,eAAe,mBAAmBkB,cAAgB,UAAUhC,aAAaiC,QAAQ,QAAQlB,KAAKC,KAAKC,UAAU,CAACiC,OAAOvD,MAAOuB,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAC1xB,IAAIU,EAAQd,EAAKP,KAAI,SAASC,GAAM,OAAGA,EAAKC,KAAKS,EAAOT,IAAYS,EAAoBV,KAASO,EAAQa,MAAYO,OAAM,SAASC,GAAKjB,QAAQC,IAAIgB,OACgkE5D,SAAS,aAA0BlB,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACkB,SAAS,CAACgC,EAAKwB,MAAMK,OAAO,YAAyB/E,OAAOH,EAAiB,IAAxBG,CAA2B,KAAK,CAACkB,SAASgC,EAAK8B,QAAqBhF,OAAOH,EAAiB,IAAxBG,CAA2B,IAAI,CAACkB,SAASgC,EAAKT,OAAOS,EAAK+B,SAAShC,KAAI,SAASiC,GAAQ,OAAmBlF,OAAOH,EAAkB,KAAzBG,CAA4B,KAAK,CAACkB,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2B,OAAO,CAACuB,MAAM,CAAC4D,WAAW,OAAOjE,SAASgE,EAAOjB,SAASC,OAAO,IAAIgB,EAAOE,OAAOF,EAAO/B,QAAqBnD,OAAOH,EAAiB,IAAxBG,CAA2B,OAAO,CAACqF,SAAS,SAAkBnD,GAAhlF,IAAqBkD,EAAKR,EAAyjF1C,EAAEoD,iBAAhkFF,EAA6lFlD,EAAEE,OAAO,GAAGJ,MAApmF4C,EAA0mF1B,EAAKC,IAAvmFd,MAAM,WAAW,CAACC,OAAO,MAAMC,QAAQ,CAACC,eAAe,mBAAmBkB,cAAgB,UAAUhC,aAAaiC,QAAQ,QAAQlB,KAAKC,KAAKC,UAAU,CAACiC,OAAOA,EAAOQ,KAAKA,MAASxC,MAAK,SAASC,GAAK,OAAOA,EAAIC,UAAUF,MAAK,SAASgB,GAAQC,QAAQC,IAAIF,GAAQ,IAAIU,EAAQd,EAAKP,KAAI,SAASC,GAAM,OAAGA,EAAKC,KAAKS,EAAOT,IAAYS,EAAoBV,KAASO,EAAQa,MAAYO,OAAM,SAASC,GAAKjB,QAAQC,IAAIgB,OAAqtE5D,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B,QAAQ,CAAC4B,KAAK,OAAOG,YAAY,yBAAyBmB,EAAKC,WAI36FzC,EAAyBV,OAAOb,EAAqB,cAA5Ba,GAAqC6J,EAAY,WAAmB,IAAIhJ,EAAQb,OAAOP,EAAiC,EAAxCO,GAAiDS,EAAYT,OAAOb,EAAkB,WAAzBa,CAA4BU,GAAqCE,GAAlBH,EAAYE,MAAeF,EAAYG,UAAuO,OAA9NZ,OAAOb,EAAiB,UAAxBa,EAA2B,WAAW,IAAIgD,EAAKN,KAAKoH,MAAMpI,aAAaiC,QAAQ,SAAYX,EAAMpC,EAAS,CAACgB,KAAK,OAAOqE,QAAQjD,IAAiBnC,EAAQkJ,SAASC,SAASC,WAAW,WAAUpJ,EAAQnC,KAAK,aAAc,IAAuBsB,OAAOH,EAAkB,KAAzBG,CAA4BP,EAA6B,EAAE,CAACyB,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2BP,EAA4B,EAAE,CAACyK,OAAM,EAAKC,KAAK,IAAIjJ,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BuD,EAAa,MAAmBvD,OAAOH,EAAiB,IAAxBG,CAA2BP,EAA4B,EAAE,CAAC0K,KAAK,UAAUjJ,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BuF,EAAe,MAAmBvF,OAAOH,EAAiB,IAAxBG,CAA2BP,EAA4B,EAAE,CAAC0K,KAAK,UAAUjJ,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B0H,EAAO,MAAmB1H,OAAOH,EAAiB,IAAxBG,CAA2BP,EAA4B,EAAE,CAACyK,OAAM,EAAKC,KAAK,WAAWjJ,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BmG,EAAgB,MAAmBnG,OAAOH,EAAiB,IAAxBG,CAA2BP,EAA4B,EAAE,CAAC0K,KAAK,UAAUjJ,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B0I,EAAmB,MAAmB1I,OAAOH,EAAiB,IAAxBG,CAA2BP,EAA4B,EAAE,CAAC0K,KAAK,mBAAmBjJ,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BkJ,EAAY,MAAmBlJ,OAAOH,EAAiB,IAAxBG,CAA2BP,EAA4B,EAAE,CAAC0K,KAAK,mBAAmBjJ,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2B4J,EAAoB,MAAmB5J,OAAOH,EAAiB,IAAxBG,CAA2BP,EAA4B,EAAE,CAACyK,OAAM,EAAKC,KAAK,SAASjJ,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BoK,MAAM,MAAmBpK,OAAOH,EAAiB,IAAxBG,CAA2BP,EAA4B,EAAE,CAAC0K,KAAK,gBAAgBjJ,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BqK,YAAY,UAA+jB,IAAIC,EAAxjB,WAAmB,IAAIC,EAAYvK,OAAOb,EAAkB,WAAzBa,CAA4B+I,EAdnhE,MAcqjEyB,EAAaxK,OAAOR,EAA+B,EAAtCQ,CAAyCuK,EAAY,GAAG5J,EAAM6J,EAAa,GAAG5J,EAAS4J,EAAa,GAAG,OAAmBxK,OAAOH,EAAiB,IAAxBG,CAA2BU,EAAY+J,SAAS,CAACzI,MAAM,CAACrB,MAAMA,EAAMC,SAASA,GAAUM,SAAsBlB,OAAOH,EAAkB,KAAzBG,CAA4BN,EAAwC,EAAE,CAACwB,SAAS,CAAclB,OAAOH,EAAiB,IAAxBG,CAA2BF,EAAO,IAAiBE,OAAOH,EAAiB,IAAxBG,CAA2B6J,EAAY,UAEjjEa,EAA7a,SAAyBC,GAAgBA,GAAaA,aAAuBC,UAAU9L,EAAoBoD,EAAiB,GAAGU,KAAK9D,EAAoB+L,KAAK,KAAM,KAAKjI,MAAK,SAASkI,GAAM,IAAIC,EAAOD,EAAKC,OAAOC,EAAOF,EAAKE,OAAOC,EAAOH,EAAKG,OAAOC,EAAOJ,EAAKI,OAAOC,EAAQL,EAAKK,QAAQJ,EAAOJ,GAAaK,EAAOL,GAAaM,EAAON,GAAaO,EAAOP,GAAaQ,EAAQR,OAE7YpL,EAAkBuB,EAAEsK,OAAoBpL,OAAOH,EAAiB,IAAxBG,CAA2BZ,EAAc0B,EAAEuK,WAAW,CAACnK,SAAsBlB,OAAOH,EAAiB,IAAxBG,CAA2BsK,EAAQ,MAAMgB,SAASC,eAAe,SAGtLb,MAIE,CAAC,CAAC,GAAG,EAAE"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 28:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 34:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(21);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(4);\n\n// EXTERNAL MODULE: E:/HDD/AKSHAT/STUDY/MERN INSTA/node_modules/materialize-css/dist/js/materialize.js\nvar materialize = __webpack_require__(7);\nvar materialize_default = /*#__PURE__*/__webpack_require__.n(materialize);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/Navbar.js\nvar Navbar_NavBar=function NavBar(){var searchModal=Object(react[\"useRef\"])(null);var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),search=_useState2[0],setSearch=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),userDetails=_useState4[0],setUserDetails=_useState4[1];var _useContext=Object(react[\"useContext\"])(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var history=Object(react_router[\"f\" /* useHistory */])();Object(react[\"useEffect\"])(function(){materialize_default.a.Modal.init(searchModal.current);},[]);var renderList=function renderList(){if(state){return[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{\"data-target\":\"modal1\",className:\"large material-icons modal-trigger\",style:{color:\"black\"},children:\"search\"})},\"1\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/profile\",children:\"Profile\"})},\"2\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/create\",children:\"Create Post\"})},\"3\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/myfollowingpost\",children:\"My following Posts\"})},\"4\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn #c62828 red darken-3\",onClick:function onClick(){localStorage.clear();dispatch({type:\"CLEAR\"});history.push('/signin');},children:\"Logout\"})},\"5\")];}else{return[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signin\",children:\"Signin\"})},\"6\"),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signup\",children:\"Signup\"})},\"7\")];}};var fetchUsers=function fetchUsers(query){setSearch(query);fetch('/search-users',{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({query:query})}).then(function(res){return res.json();}).then(function(results){setUserDetails(results.user);});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"nav-wrapper white\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:state?\"/\":\"/signin\",className:\"brand-logo left\",children:\"Instagram\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{id:\"nav-mobile\",className:\"right\",children:renderList()})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{id:\"modal1\",class:\"modal\",ref:searchModal,style:{color:\"black\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"search users\",value:search,onChange:function onChange(e){return fetchUsers(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{className:\"collection\",children:userDetails.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:item._id!==state._id?\"/profile/\"+item._id:'/profile',onClick:function onClick(){materialize_default.a.Modal.getInstance(searchModal.current).close();setSearch('');},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"collection-item\",children:item.email})});})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"modal-close waves-effect waves-green btn-flat\",onClick:function onClick(){return setSearch('');},children:\"close\"})})]})]});};/* harmony default export */ var Navbar = (Navbar_NavBar);\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(34);\n\n// CONCATENATED MODULE: ./src/components/screens/Home.js\nvar Home_Home=function Home(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),data=_useState2[0],setData=_useState2[1];var _useContext=Object(react[\"useContext\"])(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;Object(react[\"useEffect\"])(function(){fetch('/allpost',{headers:{\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){console.log(result);setData(result.posts);});},[]);var likePost=function likePost(id){fetch('/like',{method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:id})}).then(function(res){return res.json();}).then(function(result){//   console.log(result)\nvar newData=data.map(function(item){if(item._id==result._id){return result;}else{return item;}});setData(newData);}).catch(function(err){console.log(err);});};var unlikePost=function unlikePost(id){fetch('/unlike',{method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:id})}).then(function(res){return res.json();}).then(function(result){//   console.log(result)\nvar newData=data.map(function(item){if(item._id==result._id){return result;}else{return item;}});setData(newData);}).catch(function(err){console.log(err);});};var makeComment=function makeComment(text,postId){fetch('/comment',{method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:postId,text:text})}).then(function(res){return res.json();}).then(function(result){console.log(result);var newData=data.map(function(item){if(item._id==result._id){return result;}else{return item;}});setData(newData);}).catch(function(err){console.log(err);});};var deletePost=function deletePost(postid){fetch(\"/deletepost/\".concat(postid),{method:\"delete\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){console.log(result);var newData=data.filter(function(item){return item._id!==result._id;});setData(newData);});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home\",children:data.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card home-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h5\",{style:{padding:\"5px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:item.postedBy._id!==state._id?\"/profile/\"+item.postedBy._id:\"/profile\",children:item.postedBy.name}),\" \",item.postedBy._id==state._id&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"material-icons\",style:{float:\"right\"},onClick:function onClick(){return deletePost(item._id);},children:\"delete\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:item.photo})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"material-icons\",style:{color:\"red\"},children:\"favorite\"}),item.likes.includes(state._id)?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"material-icons\",onClick:function onClick(){unlikePost(item._id);},children:\"thumb_down\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"material-icons\",onClick:function onClick(){likePost(item._id);},children:\"thumb_up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h6\",{children:[item.likes.length,\" likes\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h6\",{children:item.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:item.body}),item.comments.map(function(record){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h6\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontWeight:\"500\"},children:record.postedBy.name}),\" \",record.text]},record._id);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();makeComment(e.target[0].value,item._id);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"add a comment\"})})]})]},item._id);})});};/* harmony default export */ var screens_Home = (Home_Home);\n// CONCATENATED MODULE: ./src/components/screens/SignIn.js\nvar SignIn_SignIn=function SignIn(){var _useContext=Object(react[\"useContext\"])(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var history=Object(react_router[\"f\" /* useHistory */])();var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),password=_useState2[0],setPassword=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var PostData=function PostData(){fetch(\"/signin\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({password:password,email:email})}).then(function(res){return res.json();}).then(function(data){console.log(data);if(data.error){materialize_default.a.toast({html:data.error,classes:\"#c62828 red darken-3\"});}else{localStorage.setItem(\"jwt\",data.token);localStorage.setItem(\"user\",JSON.stringify(data.user));dispatch({type:\"USER\",payload:data.user});materialize_default.a.toast({html:\"signing successful\",classes:\"#43a047 green darken-1\"});history.push('/');}});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"mycard\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card auth-card \",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"VOCALOCAL\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn waves-effect waves-light \",onClick:function onClick(){return PostData();},children:\"Login\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signup\",children:\"Register New Account\"})})]})});};/* harmony default export */ var screens_SignIn = (SignIn_SignIn);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(6);\n\n// CONCATENATED MODULE: ./src/components/screens/Profile.js\nvar Profile_Profile=function Profile(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),mypics=_useState2[0],setPics=_useState2[1];var _useContext=Object(react[\"useContext\"])(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),image=_useState4[0],setImage=_useState4[1];Object(react[\"useEffect\"])(function(){fetch('/mypost',{headers:{\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){console.log(result);setPics(result.mypost);});},[]);Object(react[\"useEffect\"])(function(){if(image){var data=new FormData();data.append(\"file\",image);data.append(\"upload_preset\",\"localvocal\");data.append(\"cloud_name\",\"cldbase\");fetch(\" https://api.cloudinary.com/v1_1/cldbase/image/upload\",{method:\"post\",body:data}).then(function(res){return res.json();}).then(function(data){fetch('/updatepic',{method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({pic:data.url})}).then(function(res){return res.json();}).then(function(result){console.log(result);localStorage.setItem(\"user\",JSON.stringify(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{pic:result.pic})));dispatch({type:\"UPDATEPIC\",payload:result.pic});//window.location.reload()\n});}).catch(function(err){console.log(err);});}},[image]);var updatePhoto=function updatePhoto(file){setImage(file);};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{maxWidth:\"550px\",margin:\"0px auto\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{margin:\"18px 0px\",borderBottom:\"1px solid grey\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{style:{width:\"160px\",height:\"160px\",borderRadius:\"80px\"},src:state?state.pic:\"loading\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:state?state.name:\"loading\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:state?state.email:\"loading\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h6\",{children:[mypics.length,\" posts\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h6\",{children:[state?state.followers.length:\"0\",\" followers\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h6\",{children:[state?state.following.length:\"0\",\" following\"]})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"file-field input-field\",style:{margin:\"10px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"btn #64b5f6 blue darken-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Update pic\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",onChange:function onChange(e){return updatePhoto(e.target.files[0]);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"file-path-wrapper\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"file-path validate\",type:\"text\"})})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"gallery\",children:mypics.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"item\",src:item.photo,alt:item.title},item._id);})})]});};/* harmony default export */ var screens_Profile = (Profile_Profile);\n// CONCATENATED MODULE: ./src/components/screens/Signup.js\nvar Signup_SignIn=function SignIn(){var history=Object(react_router[\"f\" /* useHistory */])();var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),password=_useState4[0],setPasword=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),image=_useState8[0],setImage=_useState8[1];var _useState9=Object(react[\"useState\"])(undefined),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),url=_useState10[0],setUrl=_useState10[1];Object(react[\"useEffect\"])(function(){if(url){uploadFields();}},[url]);var uploadPic=function uploadPic(){var data=new FormData();data.append(\"file\",image);data.append(\"upload_preset\",\"localvocal\");data.append(\"cloud_name\",\"cldbase\");fetch(\" https://api.cloudinary.com/v1_1/cldbase/image/upload\",{method:\"post\",body:data}).then(function(res){return res.json();}).then(function(data){setUrl(data.url);}).catch(function(err){console.log(err);});};var uploadFields=function uploadFields(){if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){materialize_default.a.toast({html:\"invalid email\",classes:\"#c62828 red darken-3\"});return;}fetch(\"/signup\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({name:name,password:password,email:email,pic:url})}).then(function(res){return res.json();}).then(function(data){if(data.error){materialize_default.a.toast({html:data.error,classes:\"#c62828 red darken-3\"});}else{materialize_default.a.toast({html:data.message,classes:\"#43a047 green darken-1\"});history.push('/signin');}}).catch(function(err){console.log(err);});};var PostData=function PostData(){if(image){uploadPic();}else{uploadFields();}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"mycard\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card auth-card input-field\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Instagram\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"name\",value:name,onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",placeholder:\"password\",value:password,onChange:function onChange(e){return setPasword(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"file-field input-field\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"btn #64b5f6 blue darken-1\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Upload pic\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",onChange:function onChange(e){return setImage(e.target.files[0]);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"file-path-wrapper\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"file-path validate\",type:\"text\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn waves-effect waves-light #64b5f6 blue darken-1\",onClick:function onClick(){return PostData();},children:\"SignUP\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signin\",children:\"Already have an account ?\"})})]})});};/* harmony default export */ var Signup = (Signup_SignIn);\n// CONCATENATED MODULE: ./src/components/screens/CreatePost.js\nvar CreatePost_CreatePost=function CreatePost(){var history=Object(react_router[\"f\" /* useHistory */])();var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),body=_useState4[0],setBody=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),image=_useState6[0],setImage=_useState6[1];var _useState7=Object(react[\"useState\"])(\"\"),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),url=_useState8[0],setUrl=_useState8[1];Object(react[\"useEffect\"])(function(){if(url){fetch(\"/createpost\",{method:\"post\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({title:title,body:body,pic:url})}).then(function(res){return res.json();}).then(function(data){if(data.error){materialize_default.a.toast({html:data.error,classes:\"#c62828 red darken-3\"});}else{materialize_default.a.toast({html:\"POST CREATED\",classes:\"#43a047 green darken-1\"});history.push('/');}}).catch(function(err){console.log(err);});}},[url]);var postDetails=function postDetails(){var data=new FormData();data.append(\"file\",image);data.append(\"upload_preset\",\"localvocal\");data.append(\"cloud_name\",\"cldbase\");fetch(\" https://api.cloudinary.com/v1_1/cldbase/image/upload\",{method:\"post\",body:data}).then(function(res){return res.json();}).then(function(data){setUrl(data.url);}).catch(function(err){console.log(err);});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card input-filed\",style:{margin:\" 20px auto\",maxWidth:\"500px\",padding:\"20px\",textAlign:\"center\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"title\",value:title,onChange:function onChange(e){return setTitle(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"body\",value:body,onChange:function onChange(e){return setBody(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"file-field input-field\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"btn\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Upload Image\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",onChange:function onChange(e){return setImage(e.target.files[0]);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"file-path-wrapper\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{className:\"file-path validate\",type:\"text\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn waves-effect waves-light blue darken-1 \",onClick:function onClick(){return postDetails();},children:\"Submit Post\"})]});};/* harmony default export */ var screens_CreatePost = (CreatePost_CreatePost);\n// CONCATENATED MODULE: ./src/reducers/userReducer.js\nvar initialState=null;var userReducer_reducer=function reducer(state,action){if(action.type==\"USER\"){return action.payload;}if(action.type==\"CLEAR\"){return null;}if(action.type==\"UPDATE\"){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{followers:action.payload.followers,following:action.payload.following});}if(action.type==\"UPDATEPIC\"){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{pic:action.payload});}return state;};\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(23);\n\n// CONCATENATED MODULE: ./src/components/screens/UserProfile.js\nvar UserProfile_Profile=function Profile(){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),userProfile=_useState2[0],setProfile=_useState2[1];var _useContext=Object(react[\"useContext\"])(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useParams=Object(react_router[\"g\" /* useParams */])(),userid=_useParams.userid;var _useState3=Object(react[\"useState\"])(state?!state.following.includes(userid):true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),showfollow=_useState4[0],setShowFollow=_useState4[1];Object(react[\"useEffect\"])(function(){fetch(\"/user/\".concat(userid),{headers:{\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){//console.log(result)\nsetProfile(result);});},[]);var followUser=function followUser(){fetch('/follow',{method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem('jwt')},body:JSON.stringify({followId:userid})}).then(function(res){return res.json();}).then(function(data){dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}});localStorage.setItem(\"user\",JSON.stringify(data));setProfile(function(prevState){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevState),{},{user:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevState.user),{},{followers:[].concat(Object(toConsumableArray[\"a\" /* default */])(prevState.user.followers),[data._id])})});});setShowFollow(false);});};var unfollowUser=function unfollowUser(){fetch('/unfollow',{method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem('jwt')},body:JSON.stringify({unfollowId:userid})}).then(function(res){return res.json();}).then(function(data){dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}});localStorage.setItem(\"user\",JSON.stringify(data));setProfile(function(prevState){var newFollower=prevState.user.followers.filter(function(item){return item!=data._id;});return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevState),{},{user:Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},prevState.user),{},{followers:newFollower})});});setShowFollow(true);});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:userProfile?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{maxWidth:\"550px\",margin:\"0px auto\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\",margin:\"18px 0px\",borderBottom:\"1px solid grey\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{style:{width:\"160px\",height:\"160px\",borderRadius:\"80px\"},src:userProfile.user.pic})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:userProfile.user.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:userProfile.user.email}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h6\",{children:[userProfile.posts.length,\" posts\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h6\",{children:[userProfile.user.followers.length,\" followers\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h6\",{children:[userProfile.user.following.length,\" following\"]})]}),showfollow?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{style:{margin:\"10px\"},className:\"btn waves-effect waves-light #64b5f6 blue darken-1\",onClick:function onClick(){return followUser();},children:\"Follow\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{style:{margin:\"10px\"},className:\"btn waves-effect waves-light #64b5f6 blue darken-1\",onClick:function onClick(){return unfollowUser();},children:\"UnFollow\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"gallery\",children:userProfile.posts.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{className:\"item\",src:item.photo,alt:item.title},item._id);})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"loading...!\"})});};/* harmony default export */ var UserProfile = (UserProfile_Profile);\n// CONCATENATED MODULE: ./src/components/screens/SubscribesUserPosts.js\nvar SubscribesUserPosts_Home=function Home(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),data=_useState2[0],setData=_useState2[1];var _useContext=Object(react[\"useContext\"])(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;Object(react[\"useEffect\"])(function(){fetch('/getsubpost',{headers:{\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){console.log(result);setData(result.posts);});},[]);var likePost=function likePost(id){fetch('/like',{method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:id})}).then(function(res){return res.json();}).then(function(result){//   console.log(result)\nvar newData=data.map(function(item){if(item._id==result._id){return result;}else{return item;}});setData(newData);}).catch(function(err){console.log(err);});};var unlikePost=function unlikePost(id){fetch('/unlike',{method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:id})}).then(function(res){return res.json();}).then(function(result){//   console.log(result)\nvar newData=data.map(function(item){if(item._id==result._id){return result;}else{return item;}});setData(newData);}).catch(function(err){console.log(err);});};var makeComment=function makeComment(text,postId){fetch('/comment',{method:\"put\",headers:{\"Content-Type\":\"application/json\",\"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")},body:JSON.stringify({postId:postId,text:text})}).then(function(res){return res.json();}).then(function(result){console.log(result);var newData=data.map(function(item){if(item._id==result._id){return result;}else{return item;}});setData(newData);}).catch(function(err){console.log(err);});};var deletePost=function deletePost(postid){fetch(\"/deletepost/\".concat(postid),{method:\"delete\",headers:{Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")}}).then(function(res){return res.json();}).then(function(result){console.log(result);var newData=data.filter(function(item){return item._id!==result._id;});setData(newData);});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"home\",children:data.map(function(item){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card home-card\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h5\",{style:{padding:\"5px\"},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:item.postedBy._id!==state._id?\"/profile/\"+item.postedBy._id:\"/profile\",children:item.postedBy.name}),\" \",item.postedBy._id==state._id&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"material-icons\",style:{float:\"right\"},onClick:function onClick(){return deletePost(item._id);},children:\"delete\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:item.photo})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"card-content\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"material-icons\",style:{color:\"red\"},children:\"favorite\"}),item.likes.includes(state._id)?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"material-icons\",onClick:function onClick(){unlikePost(item._id);},children:\"thumb_down\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"i\",{className:\"material-icons\",onClick:function onClick(){likePost(item._id);},children:\"thumb_up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h6\",{children:[item.likes.length,\" likes\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h6\",{children:item.title}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:item.body}),item.comments.map(function(record){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h6\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{style:{fontWeight:\"500\"},children:record.postedBy.name}),\" \",record.text]},record._id);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();makeComment(e.target[0].value,item._id);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"add a comment\"})})]})]},item._id);})});};/* harmony default export */ var SubscribesUserPosts = (SubscribesUserPosts_Home);\n// CONCATENATED MODULE: ./src/App.js\n//import Reset from './components/screens/Reset'\n//import NewPassword from './components/screens/Newpassword'\nvar UserContext=/*#__PURE__*/Object(react[\"createContext\"])();var App_Routing=function Routing(){var history=Object(react_router[\"f\" /* useHistory */])();var _useContext=Object(react[\"useContext\"])(UserContext),state=_useContext.state,dispatch=_useContext.dispatch;Object(react[\"useEffect\"])(function(){var user=JSON.parse(localStorage.getItem(\"user\"));if(user){dispatch({type:\"USER\",payload:user});}else{if(!history.location.pathname.startsWith('/reset'))history.push('/signin');}},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(screens_Home,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/signin\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(screens_SignIn,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/signup\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Signup,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/profile\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(screens_Profile,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/create\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(screens_CreatePost,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/profile/:userid\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfile,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/myfollowingpost\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SubscribesUserPosts,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{exact:true,path:\"/reset\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Reset,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/reset/:token\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NewPassword,{})})]});};function App_App(){var _useReducer=Object(react[\"useReducer\"])(userReducer_reducer,initialState),_useReducer2=Object(slicedToArray[\"a\" /* default */])(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserContext.Provider,{value:{state:state,dispatch:dispatch},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Navbar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_Routing,{})]})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 36)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[35,1,2]]]);","inputSourceMap":{"version":3,"sources":["E:\\HDD\\AKSHAT\\STUDY\\MERN INSTA\\server\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!E:\\HDD\\AKSHAT\\STUDY\\MERN INSTA\\server\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!E:\\HDD\\AKSHAT\\STUDY\\MERN INSTA\\server\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\HDD\\AKSHAT\\STUDY\\MERN INSTA\\server\\client\\src\\index.css","E:\\HDD\\AKSHAT\\STUDY\\MERN INSTA\\server\\client\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!E:\\HDD\\AKSHAT\\STUDY\\MERN INSTA\\server\\client\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!E:\\HDD\\AKSHAT\\STUDY\\MERN INSTA\\server\\client\\node_modules\\postcss-loader\\src\\index.js??postcss!E:\\HDD\\AKSHAT\\STUDY\\MERN INSTA\\server\\client\\src\\App.css","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/components/Navbar.js","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/components/screens/Home.js","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/components/screens/SignIn.js","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/components/screens/Profile.js","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/components/screens/Signup.js","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/components/screens/CreatePost.js","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/reducers/userReducer.js","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/components/screens/UserProfile.js","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/components/screens/SubscribesUserPosts.js","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/App.js","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/reportWebVitals.js","E:/HDD/AKSHAT/STUDY/MERN INSTA/server/client/src/index.js"],"names":["NavBar","searchModal","useRef","useState","search","setSearch","userDetails","setUserDetails","useContext","UserContext","state","dispatch","history","useHistory","useEffect","M","Modal","init","current","renderList","color","localStorage","clear","type","push","fetchUsers","query","fetch","method","headers","body","JSON","stringify","then","res","json","results","user","e","target","value","map","item","_id","getInstance","close","email","Home","data","setData","getItem","result","console","log","posts","likePost","id","postId","newData","catch","err","unlikePost","makeComment","text","deletePost","postid","Authorization","filter","padding","postedBy","name","float","photo","likes","includes","length","title","comments","record","fontWeight","preventDefault","SignIn","password","setPassword","setEmail","PostData","error","toast","html","classes","setItem","token","payload","Profile","mypics","setPics","image","setImage","mypost","FormData","append","pic","url","updatePhoto","file","maxWidth","margin","borderBottom","display","justifyContent","width","height","borderRadius","followers","following","files","setName","setPasword","undefined","setUrl","uploadFields","uploadPic","test","message","CreatePost","setTitle","setBody","postDetails","textAlign","initialState","reducer","action","userProfile","setProfile","useParams","userid","showfollow","setShowFollow","followUser","followId","prevState","unfollowUser","unfollowId","newFollower","createContext","Routing","parse","location","pathname","startsWith","App","useReducer","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React,{useContext,useRef,useEffect,useState} from 'react'\r\nimport {Link ,useHistory} from 'react-router-dom'\r\nimport {UserContext} from '../App'\r\nimport M from 'materialize-css'\r\nconst NavBar = ()=>{\r\n    const  searchModal = useRef(null)\r\n    const [search,setSearch] = useState('')\r\n    const [userDetails,setUserDetails] = useState([])\r\n     const {state,dispatch} = useContext(UserContext)\r\n     const history = useHistory()\r\n     useEffect(()=>{\r\n         M.Modal.init(searchModal.current)\r\n     },[])\r\n     const renderList = ()=>{\r\n       if(state){\r\n           return [\r\n            <li key=\"1\"><i  data-target=\"modal1\" className=\"large material-icons modal-trigger\" style={{color:\"black\"}}>search</i></li>,\r\n            <li key=\"2\"><Link to=\"/profile\">Profile</Link></li>,\r\n            <li key=\"3\"><Link to=\"/create\">Create Post</Link></li>,\r\n            <li key=\"4\"><Link to=\"/myfollowingpost\">My following Posts</Link></li>,\r\n            <li  key=\"5\">\r\n             <button className=\"btn #c62828 red darken-3\"\r\n            onClick={()=>{\r\n              localStorage.clear()\r\n              dispatch({type:\"CLEAR\"})\r\n              history.push('/signin')\r\n            }}\r\n            >\r\n                Logout\r\n            </button>\r\n            </li>\r\n         \r\n            \r\n           ]\r\n       }else{\r\n         return [\r\n          <li  key=\"6\"><Link to=\"/signin\">Signin</Link></li>,\r\n          <li  key=\"7\"><Link to=\"/signup\">Signup</Link></li>\r\n         \r\n         ]\r\n       }\r\n     }\r\n\r\n\r\n     const fetchUsers = (query)=>{\r\n        setSearch(query)\r\n        fetch('/search-users',{\r\n          method:\"post\",\r\n          headers:{\r\n            \"Content-Type\":\"application/json\"\r\n          },\r\n          body:JSON.stringify({\r\n            query\r\n          })\r\n        }).then(res=>res.json())\r\n        .then(results=>{\r\n          setUserDetails(results.user)\r\n        })\r\n     }\r\n    return(\r\n        <nav>\r\n        <div className=\"nav-wrapper white\">\r\n          <Link to={state?\"/\":\"/signin\"} className=\"brand-logo left\">Instagram</Link>\r\n          <ul id=\"nav-mobile\" className=\"right\">\r\n             {renderList()}\r\n  \r\n          </ul>\r\n        </div>\r\n        <div id=\"modal1\" class=\"modal\" ref={searchModal} style={{color:\"black\"}}>\r\n          <div className=\"modal-content\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"search users\"\r\n            value={search}\r\n            onChange={(e)=>fetchUsers(e.target.value)}\r\n            />\r\n             <ul className=\"collection\">\r\n               {userDetails.map(item=>{\r\n                 return <Link to={item._id !== state._id ? \"/profile/\"+item._id:'/profile'} onClick={()=>{\r\n                   M.Modal.getInstance(searchModal.current).close()\r\n                   setSearch('')\r\n                 }}><li className=\"collection-item\">{item.email}</li></Link> \r\n               })}\r\n               \r\n              </ul>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button className=\"modal-close waves-effect waves-green btn-flat\" onClick={()=>setSearch('')}>close</button>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    )\r\n}\r\n\r\n\r\nexport default NavBar","import React,{useState,useEffect,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\nconst Home  = ()=>{\r\n    const [data,setData] = useState([])\r\n    const {state,dispatch} = useContext(UserContext)\r\n    useEffect(()=>{\r\n       fetch('/allpost',{\r\n           headers:{\r\n               \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n           }\r\n       }).then(res=>res.json())\r\n       .then(result=>{\r\n           console.log(result)\r\n           setData(result.posts)\r\n       })\r\n    },[])\r\n\r\n    const likePost = (id)=>{\r\n          fetch('/like',{\r\n              method:\"put\",\r\n              headers:{\r\n                  \"Content-Type\":\"application/json\",\r\n                  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n              },\r\n              body:JSON.stringify({\r\n                  postId:id\r\n              })\r\n          }).then(res=>res.json())\r\n          .then(result=>{\r\n                   //   console.log(result)\r\n            const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n          }).catch(err=>{\r\n              console.log(err)\r\n          })\r\n    }\r\n    const unlikePost = (id)=>{\r\n          fetch('/unlike',{\r\n              method:\"put\",\r\n              headers:{\r\n                  \"Content-Type\":\"application/json\",\r\n                  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n              },\r\n              body:JSON.stringify({\r\n                  postId:id\r\n              })\r\n          }).then(res=>res.json())\r\n          .then(result=>{\r\n            //   console.log(result)\r\n            const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n          }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const makeComment = (text,postId)=>{\r\n          fetch('/comment',{\r\n              method:\"put\",\r\n              headers:{\r\n                  \"Content-Type\":\"application/json\",\r\n                  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n              },\r\n              body:JSON.stringify({\r\n                  postId,\r\n                  text\r\n              })\r\n          }).then(res=>res.json())\r\n          .then(result=>{\r\n              console.log(result)\r\n              const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n             })\r\n            setData(newData)\r\n          }).catch(err=>{\r\n              console.log(err)\r\n          })\r\n    }\r\n\r\n    const deletePost = (postid)=>{\r\n        fetch(`/deletepost/${postid}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n            const newData = data.filter(item=>{\r\n                return item._id !== result._id\r\n            })\r\n            setData(newData)\r\n        })\r\n    }\r\n   return (\r\n       <div className=\"home\">\r\n           {\r\n               data.map(item=>{\r\n                   return(\r\n                       <div className=\"card home-card\" key={item._id}>\r\n                            <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id?\"/profile/\"+item.postedBy._id :\"/profile\"  }>{item.postedBy.name}</Link> {item.postedBy._id == state._id \r\n                            && <i className=\"material-icons\" style={{\r\n                                float:\"right\"\r\n                            }} \r\n                            onClick={()=>deletePost(item._id)}\r\n                            >delete</i>\r\n\r\n                            }</h5>\r\n                            <div className=\"card-image\">\r\n                                <img src={item.photo}/>\r\n                            </div>\r\n                            <div className=\"card-content\">\r\n                            <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\r\n                            {item.likes.includes(state._id)\r\n                            ? \r\n                             <i className=\"material-icons\"\r\n                                    onClick={()=>{unlikePost(item._id)}}\r\n                              >thumb_down</i>\r\n                            : \r\n                            <i className=\"material-icons\"\r\n                            onClick={()=>{likePost(item._id)}}\r\n                            >thumb_up</i>\r\n                            }\r\n                            \r\n                           \r\n                                <h6>{item.likes.length} likes</h6>\r\n                                <h6>{item.title}</h6>\r\n                                <p>{item.body}</p>\r\n                                {\r\n                                    item.comments.map(record=>{\r\n                                        return(\r\n                                        <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}</h6>\r\n                                        )\r\n                                    })\r\n                                }\r\n                                <form onSubmit={(e)=>{\r\n                                    e.preventDefault()\r\n                                    makeComment(e.target[0].value,item._id)\r\n                                }}>\r\n                                  <input type=\"text\" placeholder=\"add a comment\" />  \r\n                                </form>\r\n                                \r\n                            </div>\r\n                        </div> \r\n                   )\r\n               })\r\n           }\r\n          \r\n          \r\n       </div>\r\n   )\r\n}\r\n\r\n\r\nexport default Home","import React,{useState,useContext} from 'react'\r\nimport { Link,useHistory} from 'react-router-dom'\r\nimport { UserContext} from '../../App'\r\nimport M from 'materialize-css'\r\n\r\nconst SignIn=()=>{\r\n    const {state,dispatch}= useContext(UserContext)\r\n    const history=useHistory()\r\n\r\n    const [password,setPassword]=useState(\"\")\r\n    const [email,setEmail]=useState(\"\")\r\n    const PostData = () => {\r\n        fetch(\"/signin\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n               \r\n                password,\r\n                email\r\n                \r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            console.log(data)\r\n           if(data.error){\r\n              M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\r\n           }\r\n           else{\r\n               localStorage.setItem(\"jwt\",data.token)\r\n               localStorage.setItem(\"user\",JSON.stringify(data.user))\r\n               dispatch({type:\"USER\",payload:data.user})\r\n               M.toast({html:\"signing successful\",classes:\"#43a047 green darken-1\"})\r\n               history.push('/')\r\n            }\r\n        })\r\n\r\n    }\r\n    return (\r\n        \r\n        <div className=\"mycard\">\r\n             <div className=\"card auth-card \">\r\n\r\n                 <h2> \r\n                     VOCALOCAL\r\n                 </h2>\r\n                 <input\r\n                 type=\"text\"\r\n                 placeholder=\"email\"\r\n                 value={email}\r\n                 onChange={(e)=> setEmail(e.target.value)}\r\n                 />       \r\n                 <input\r\n                 type=\"password\"\r\n                 placeholder=\"password\"\r\n                 value={password}\r\n                 onChange={(e)=> setPassword(e.target.value)}\r\n                 />\r\n\r\n                 <button className=\"btn waves-effect waves-light \"\r\n                 onClick={()=>PostData()}\r\n                 >Login</button>\r\n                 <h5>\r\n                  <Link to=\"/signup\">Register New Account</Link>\r\n                   </h5>   \r\n                 \r\n      </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default SignIn","import React,{useEffect,useState,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\n\r\nconst Profile  = ()=>{\r\n    const [mypics,setPics] = useState([])\r\n    const {state,dispatch} = useContext(UserContext)\r\n    const [image,setImage] = useState(\"\")\r\n    useEffect(()=>{\r\n       fetch('/mypost',{\r\n           headers:{\r\n               \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n           }\r\n       }).then(res=>res.json())\r\n       .then(result=>{\r\n           console.log(result)\r\n           setPics(result.mypost)\r\n       })\r\n    },[])\r\n    useEffect(()=>{\r\n       if(image){\r\n        const data = new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"localvocal\")\r\n        data.append(\"cloud_name\",\"cldbase\")\r\n        fetch(\" https://api.cloudinary.com/v1_1/cldbase/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n    \r\n       \r\n           fetch('/updatepic',{\r\n               method:\"put\",\r\n               headers:{\r\n                   \"Content-Type\":\"application/json\",\r\n                   \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n               },\r\n               body:JSON.stringify({\r\n                   pic:data.url\r\n               })\r\n           }).then(res=>res.json())\r\n           .then(result=>{\r\n               console.log(result)\r\n               localStorage.setItem(\"user\",JSON.stringify({...state,pic:result.pic}))\r\n               dispatch({type:\"UPDATEPIC\",payload:result.pic})\r\n               //window.location.reload()\r\n           })\r\n       \r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n       }\r\n    },[image])\r\n    const updatePhoto = (file)=>{\r\n        setImage(file)\r\n    }\r\n   return (\r\n       <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\r\n           <div style={{\r\n              margin:\"18px 0px\",\r\n               borderBottom:\"1px solid grey\"\r\n           }}>\r\n\r\n         \r\n           <div style={{\r\n               display:\"flex\",\r\n               justifyContent:\"space-around\",\r\n              \r\n           }}>\r\n               <div>\r\n                   <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\r\n                   src={state?state.pic:\"loading\"}\r\n                   />\r\n                 \r\n               </div>\r\n               <div>\r\n                   <h4>{state?state.name:\"loading\"}</h4>\r\n                   <h5>{state?state.email:\"loading\"}</h5>\r\n                   <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\r\n                       <h6>{mypics.length} posts</h6>\r\n                       <h6>{state?state.followers.length:\"0\"} followers</h6>\r\n                       <h6>{state?state.following.length:\"0\"} following</h6>\r\n                   </div>\r\n\r\n               </div>\r\n           </div>\r\n        \r\n            <div className=\"file-field input-field\" style={{margin:\"10px\"}}>\r\n            <div className=\"btn #64b5f6 blue darken-1\">\r\n                <span>Update pic</span>\r\n                <input type=\"file\" onChange={(e)=>updatePhoto(e.target.files[0])} />\r\n            </div>\r\n            <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n            </div>\r\n            </div>\r\n            </div>      \r\n           <div className=\"gallery\">\r\n               {\r\n                   mypics.map(item=>{\r\n                       return(\r\n                        <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>  \r\n                       )\r\n                   })\r\n               }\r\n\r\n           \r\n           </div>\r\n       </div>\r\n   )\r\n}\r\n\r\n\r\nexport default Profile","import React,{useState,useEffect} from 'react'\r\nimport {Link,useHistory} from 'react-router-dom'\r\nimport M from 'materialize-css'\r\nconst SignIn  = ()=>{\r\n    const history = useHistory()\r\n    const [name,setName] = useState(\"\")\r\n    const [password,setPasword] = useState(\"\")\r\n    const [email,setEmail] = useState(\"\")\r\n    const [image,setImage] = useState(\"\")\r\n    const [url,setUrl] = useState(undefined)\r\n    useEffect(()=>{\r\n        if(url){\r\n            uploadFields()\r\n        }\r\n    },[url])\r\n    const uploadPic = ()=>{\r\n        const data = new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"localvocal\")\r\n        data.append(\"cloud_name\",\"cldbase\")\r\n        fetch(\" https://api.cloudinary.com/v1_1/cldbase/image/upload\",{\r\n            method:\"post\",\r\n            body:data\r\n        })\r\n        .then(res=>res.json())\r\n        .then(data=>{\r\n           setUrl(data.url)\r\n        })\r\n        .catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    const uploadFields = ()=>{\r\n        if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n            M.toast({html: \"invalid email\",classes:\"#c62828 red darken-3\"})\r\n            return\r\n        }\r\n        fetch(\"/signup\",{\r\n            method:\"post\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\"\r\n            },\r\n            body:JSON.stringify({\r\n                name,\r\n                password,\r\n                email,\r\n                pic:url\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n           if(data.error){\r\n              M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\r\n           }\r\n           else{\r\n               M.toast({html:data.message,classes:\"#43a047 green darken-1\"})\r\n               history.push('/signin')\r\n           }\r\n        }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n    const PostData = ()=>{\r\n        if(image){\r\n            uploadPic()\r\n        }else{\r\n            uploadFields()\r\n        }\r\n       \r\n    }\r\n\r\n   return (\r\n      <div className=\"mycard\">\r\n          <div className=\"card auth-card input-field\">\r\n            <h2>Instagram</h2>\r\n            <input\r\n            type=\"text\"\r\n            placeholder=\"name\"\r\n            value={name}\r\n            onChange={(e)=>setName(e.target.value)}\r\n            />\r\n            <input\r\n            type=\"text\"\r\n            placeholder=\"email\"\r\n            value={email}\r\n            onChange={(e)=>setEmail(e.target.value)}\r\n            />\r\n            <input\r\n            type=\"password\"\r\n            placeholder=\"password\"\r\n            value={password}\r\n            onChange={(e)=>setPasword(e.target.value)}\r\n            />\r\n            <div className=\"file-field input-field\">\r\n            <div className=\"btn #64b5f6 blue darken-1\">\r\n                <span>Upload pic</span>\r\n                <input type=\"file\" onChange={(e)=>setImage(e.target.files[0])} />\r\n            </div>\r\n            <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\" />\r\n            </div>\r\n            </div>\r\n            <button className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n            onClick={()=>PostData()}\r\n            >\r\n                SignUP\r\n            </button>\r\n            <h5>\r\n                <Link to=\"/signin\">Already have an account ?</Link>\r\n            </h5>\r\n             \r\n               \r\n         \r\n            \r\n    \r\n        </div>\r\n      </div>\r\n   )\r\n}\r\n\r\n\r\nexport default SignIn","import React, {useState,useEffect} from 'react'\r\nimport { Link,useHistory} from 'react-router-dom'\r\n\r\nimport M from 'materialize-css'\r\n\r\n\r\nconst CreatePost =()=> {\r\n    const history=useHistory()\r\n    const [title,setTitle]=useState(\"\")\r\n    const [body,setBody]=useState(\"\")\r\n    const [image,setImage]=useState(\"\")\r\n    const[url,setUrl]=useState(\"\")\r\nuseEffect(()=>{\r\n    if(url){\r\n\r\n    fetch(\"/createpost\",{\r\n        method:\"post\",\r\n        headers:{\r\n            \"Content-Type\":\"application/json\",\r\n            \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n        },\r\n        body:JSON.stringify({\r\n           \r\n            title,\r\n            body,\r\n            pic:url\r\n            \r\n        })\r\n    }).then(res=>res.json())\r\n    .then(data=>{\r\n        \r\n       if(data.error){\r\n          M.toast({html: data.error,classes:\"#c62828 red darken-3\"})\r\n       }\r\n       else{\r\n           M.toast({html:\"POST CREATED\",classes:\"#43a047 green darken-1\"})\r\n           history.push('/')\r\n        }\r\n    }).catch(err=>{\r\n        console.log(err)\r\n    })\r\n}\r\n\r\n},[url])\r\n\r\n    const postDetails=()=>{\r\n        const data = new FormData()\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"localvocal\")\r\n        data.append(\"cloud_name\",\"cldbase\")\r\n        fetch(\" https://api.cloudinary.com/v1_1/cldbase/image/upload\",{\r\n        method:\"post\",\r\n        body:data\r\n    })\r\n    .then(res=>res.json())\r\n    .then(data=>{\r\n        setUrl(data.url)\r\n    })\r\n    .catch(err=>{\r\n        console.log(err)\r\n    })\r\n    \r\n\r\n\r\n}\r\n    return (\r\n        <div className = \"card input-filed\"\r\n        style = {{ \r\n            margin:\" 20px auto\" ,\r\n            maxWidth:\"500px\",\r\n            padding:\"20px\",\r\n            textAlign:\"center\"\r\n        }}\r\n        >\r\n\r\n\r\n            <input type=\"text\" placeholder=\"title\"\r\n            value={title}\r\n            onChange={(e)=>setTitle(e.target.value)}\r\n            />\r\n            <input type=\"text\" placeholder=\"body\"\r\n            value={body}\r\n            onChange={(e)=>setBody(e.target.value)}/>\r\n            <div className=\"file-field input-field\">\r\n            <div className=\"btn\">\r\n        <span>Upload Image</span>\r\n        <input type=\"file\"\r\n        onChange={(e)=>setImage(e.target.files[0])}\r\n        />\r\n      </div>\r\n      <div className=\"file-path-wrapper\">\r\n        <input className=\"file-path validate\" type=\"text\"/>\r\n      </div>\r\n    </div>\r\n    <button className=\"btn waves-effect waves-light blue darken-1 \"\r\n    onClick={()=>postDetails()}\r\n    >Submit Post</button> \r\n\r\n        </div>\r\n    )\r\n}\r\nexport default CreatePost","export const initialState = null\r\n\r\nexport const reducer = (state,action)=>{\r\n    if(action.type==\"USER\"){\r\n        return action.payload\r\n    }\r\n    if(action.type==\"CLEAR\"){\r\n        return null\r\n    }\r\n    if(action.type==\"UPDATE\"){\r\n        return {\r\n            ...state,\r\n            followers:action.payload.followers,\r\n            following:action.payload.following\r\n        }\r\n    }\r\n    if(action.type==\"UPDATEPIC\"){\r\n        return {\r\n            ...state,\r\n            pic:action.payload\r\n        }\r\n    }\r\n    return state\r\n} ","import React,{useEffect,useState,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {useParams} from 'react-router-dom'\r\nconst Profile  = ()=>{\r\n    const [userProfile,setProfile] = useState(null)\r\n    \r\n    const {state,dispatch} = useContext(UserContext)\r\n    const {userid} = useParams()\r\n    const [showfollow,setShowFollow] = useState(state?!state.following.includes(userid):true)\r\n    useEffect(()=>{\r\n       fetch(`/user/${userid}`,{\r\n           headers:{\r\n               \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n           }\r\n       }).then(res=>res.json())\r\n       .then(result=>{\r\n           //console.log(result)\r\n         \r\n            setProfile(result)\r\n       })\r\n    },[])\r\n\r\n\r\n    const followUser = ()=>{\r\n        fetch('/follow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\r\n            },\r\n            body:JSON.stringify({\r\n                followId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n        \r\n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\r\n             localStorage.setItem(\"user\",JSON.stringify(data))\r\n             setProfile((prevState)=>{\r\n                 return {\r\n                     ...prevState,\r\n                     user:{\r\n                         ...prevState.user,\r\n                         followers:[...prevState.user.followers,data._id]\r\n                        }\r\n                 }\r\n             })\r\n             setShowFollow(false)\r\n        })\r\n    }\r\n    const unfollowUser = ()=>{\r\n        fetch('/unfollow',{\r\n            method:\"put\",\r\n            headers:{\r\n                \"Content-Type\":\"application/json\",\r\n                \"Authorization\":\"Bearer \"+localStorage.getItem('jwt')\r\n            },\r\n            body:JSON.stringify({\r\n                unfollowId:userid\r\n            })\r\n        }).then(res=>res.json())\r\n        .then(data=>{\r\n            \r\n            dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\r\n             localStorage.setItem(\"user\",JSON.stringify(data))\r\n            \r\n             setProfile((prevState)=>{\r\n                const newFollower = prevState.user.followers.filter(item=>item != data._id )\r\n                 return {\r\n                     ...prevState,\r\n                     user:{\r\n                         ...prevState.user,\r\n                         followers:newFollower\r\n                        }\r\n                 }\r\n             })\r\n             setShowFollow(true)\r\n             \r\n        })\r\n    }\r\n   return (\r\n       <>\r\n       {userProfile ?\r\n       <div style={{maxWidth:\"550px\",margin:\"0px auto\"}}>\r\n           <div style={{\r\n               display:\"flex\",\r\n               justifyContent:\"space-around\",\r\n               margin:\"18px 0px\",\r\n               borderBottom:\"1px solid grey\"\r\n           }}>\r\n               <div>\r\n                   <img style={{width:\"160px\",height:\"160px\",borderRadius:\"80px\"}}\r\n                   src={userProfile.user.pic}\r\n                   />\r\n               </div>\r\n               <div>\r\n                   <h4>{userProfile.user.name}</h4>\r\n                   <h5>{userProfile.user.email}</h5>\r\n                   <div style={{display:\"flex\",justifyContent:\"space-between\",width:\"108%\"}}>\r\n                       <h6>{userProfile.posts.length} posts</h6>\r\n                       <h6>{userProfile.user.followers.length} followers</h6>\r\n                       <h6>{userProfile.user.following.length} following</h6>\r\n                   </div>\r\n                   {showfollow?\r\n                   <button style={{\r\n                       margin:\"10px\"\r\n                   }} className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                    onClick={()=>followUser()}\r\n                    >\r\n                        Follow\r\n                    </button>\r\n                    : \r\n                    <button\r\n                    style={{\r\n                        margin:\"10px\"\r\n                    }}\r\n                    className=\"btn waves-effect waves-light #64b5f6 blue darken-1\"\r\n                    onClick={()=>unfollowUser()}\r\n                    >\r\n                        UnFollow\r\n                    </button>\r\n                    }\r\n                   \r\n                  \r\n\r\n               </div>\r\n           </div>\r\n     \r\n           <div className=\"gallery\">\r\n               {\r\n                   userProfile.posts.map(item=>{\r\n                       return(\r\n                        <img key={item._id} className=\"item\" src={item.photo} alt={item.title}/>  \r\n                       )\r\n                   })\r\n               }\r\n\r\n           \r\n           </div>\r\n       </div>\r\n       \r\n       \r\n       : <h2>loading...!</h2>}\r\n       \r\n       </>\r\n   )\r\n}\r\n\r\n\r\nexport default Profile","import React,{useState,useEffect,useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {Link} from 'react-router-dom'\r\nconst Home  = ()=>{\r\n    const [data,setData] = useState([])\r\n    const {state,dispatch} = useContext(UserContext)\r\n    useEffect(()=>{\r\n       fetch('/getsubpost',{\r\n           headers:{\r\n               \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n           }\r\n       }).then(res=>res.json())\r\n       .then(result=>{\r\n           console.log(result)\r\n           setData(result.posts)\r\n       })\r\n    },[])\r\n\r\n    const likePost = (id)=>{\r\n          fetch('/like',{\r\n              method:\"put\",\r\n              headers:{\r\n                  \"Content-Type\":\"application/json\",\r\n                  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n              },\r\n              body:JSON.stringify({\r\n                  postId:id\r\n              })\r\n          }).then(res=>res.json())\r\n          .then(result=>{\r\n                   //   console.log(result)\r\n            const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n          }).catch(err=>{\r\n              console.log(err)\r\n          })\r\n    }\r\n    const unlikePost = (id)=>{\r\n          fetch('/unlike',{\r\n              method:\"put\",\r\n              headers:{\r\n                  \"Content-Type\":\"application/json\",\r\n                  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n              },\r\n              body:JSON.stringify({\r\n                  postId:id\r\n              })\r\n          }).then(res=>res.json())\r\n          .then(result=>{\r\n            //   console.log(result)\r\n            const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n            })\r\n            setData(newData)\r\n          }).catch(err=>{\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const makeComment = (text,postId)=>{\r\n          fetch('/comment',{\r\n              method:\"put\",\r\n              headers:{\r\n                  \"Content-Type\":\"application/json\",\r\n                  \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n              },\r\n              body:JSON.stringify({\r\n                  postId,\r\n                  text\r\n              })\r\n          }).then(res=>res.json())\r\n          .then(result=>{\r\n              console.log(result)\r\n              const newData = data.map(item=>{\r\n                if(item._id==result._id){\r\n                    return result\r\n                }else{\r\n                    return item\r\n                }\r\n             })\r\n            setData(newData)\r\n          }).catch(err=>{\r\n              console.log(err)\r\n          })\r\n    }\r\n\r\n    const deletePost = (postid)=>{\r\n        fetch(`/deletepost/${postid}`,{\r\n            method:\"delete\",\r\n            headers:{\r\n                Authorization:\"Bearer \"+localStorage.getItem(\"jwt\")\r\n            }\r\n        }).then(res=>res.json())\r\n        .then(result=>{\r\n            console.log(result)\r\n            const newData = data.filter(item=>{\r\n                return item._id !== result._id\r\n            })\r\n            setData(newData)\r\n        })\r\n    }\r\n   return (\r\n       <div className=\"home\">\r\n           {\r\n               data.map(item=>{\r\n                   return(\r\n                       <div className=\"card home-card\" key={item._id}>\r\n                            <h5 style={{padding:\"5px\"}}><Link to={item.postedBy._id !== state._id?\"/profile/\"+item.postedBy._id :\"/profile\"  }>{item.postedBy.name}</Link> {item.postedBy._id == state._id \r\n                            && <i className=\"material-icons\" style={{\r\n                                float:\"right\"\r\n                            }} \r\n                            onClick={()=>deletePost(item._id)}\r\n                            >delete</i>\r\n\r\n                            }</h5>\r\n                            <div className=\"card-image\">\r\n                                <img src={item.photo}/>\r\n                            </div>\r\n                            <div className=\"card-content\">\r\n                            <i className=\"material-icons\" style={{color:\"red\"}}>favorite</i>\r\n                            {item.likes.includes(state._id)\r\n                            ? \r\n                             <i className=\"material-icons\"\r\n                                    onClick={()=>{unlikePost(item._id)}}\r\n                              >thumb_down</i>\r\n                            : \r\n                            <i className=\"material-icons\"\r\n                            onClick={()=>{likePost(item._id)}}\r\n                            >thumb_up</i>\r\n                            }\r\n                            \r\n                           \r\n                                <h6>{item.likes.length} likes</h6>\r\n                                <h6>{item.title}</h6>\r\n                                <p>{item.body}</p>\r\n                                {\r\n                                    item.comments.map(record=>{\r\n                                        return(\r\n                                        <h6 key={record._id}><span style={{fontWeight:\"500\"}}>{record.postedBy.name}</span> {record.text}</h6>\r\n                                        )\r\n                                    })\r\n                                }\r\n                                <form onSubmit={(e)=>{\r\n                                    e.preventDefault()\r\n                                    makeComment(e.target[0].value,item._id)\r\n                                }}>\r\n                                  <input type=\"text\" placeholder=\"add a comment\" />  \r\n                                </form>\r\n                                \r\n                            </div>\r\n                        </div> \r\n                   )\r\n               })\r\n           }\r\n          \r\n          \r\n       </div>\r\n   )\r\n}\r\n\r\n\r\nexport default Home","import React,{useEffect,createContext,useReducer,useContext} from 'react';\nimport NavBar from './components/Navbar'\nimport \"./App.css\"\nimport {BrowserRouter,Route,Switch,useHistory} from 'react-router-dom'\nimport Home from './components/screens/Home'\nimport Signin from './components/screens/SignIn'\nimport Profile from './components/screens/Profile'\nimport Signup from './components/screens/Signup'\nimport CreatePost from './components/screens/CreatePost'\nimport {reducer,initialState} from './reducers/userReducer'\nimport UserProfile from './components/screens/UserProfile'\nimport SubscribedUserPosts from './components/screens/SubscribesUserPosts'\n//import Reset from './components/screens/Reset'\n//import NewPassword from './components/screens/Newpassword'\nexport const UserContext = createContext()\n\n\nconst Routing = ()=>{\n  const history = useHistory()\n  const {state,dispatch} = useContext(UserContext)\n  useEffect(()=>{\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    if(user){\n      dispatch({type:\"USER\",payload:user})\n    }else{\n      if(!history.location.pathname.startsWith('/reset'))\n           history.push('/signin')\n    }\n  },[])\n  return(\n    <Switch>\n      <Route exact path=\"/\" >\n      <Home />\n      </Route>\n      <Route path=\"/signin\">\n        <Signin />\n      </Route>\n      <Route path=\"/signup\">\n        <Signup />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/create\">\n        <CreatePost/>\n      </Route>\n      <Route path=\"/profile/:userid\">\n        <UserProfile />\n      </Route>\n      <Route path=\"/myfollowingpost\">\n        <SubscribedUserPosts />\n      </Route>\n      <Route exact path=\"/reset\">\n        <Reset/>\n      </Route>\n      <Route path=\"/reset/:token\">\n        <NewPassword />\n      </Route>\n      \n    </Switch>\n  )\n}\n\nfunction App() {\n  const [state,dispatch] = useReducer(reducer,initialState)\n  return (\n    <UserContext.Provider value={{state,dispatch}}>\n    <BrowserRouter>\n      <NavBar />\n      <Routing />\n      \n    </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}